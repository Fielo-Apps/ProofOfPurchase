{"version":3,"sources":["programSelector.js","invoiceItems.js","multiFileUploader.js","formInvoice.js","formApproval.js","formApprover.js","submitForApproval.js"],"names":["FieloProgramSelectorPRP","element","this","element_","init","window","prototype","Constant_","PROGRAM","PROGRAM_PLT","MEMBER","CssClasses_","PAGINATOR","RECENT","onChange","filter","getProgramId_","forEach","call","programActions_","action","FieloButton","setParameter","programId_","field_","Visualforce","remoting","Manager","invokeAction","escape","e","console","log","fielo","util","spinner","FieloSpinner","hide","listOfPaginators_","paginator","$","closest","is","FieloPaginator","setFilters","setPage","getRecords","listOfMemberFields_","memberField","getAttribute","includes","oldProgramId_","setAttribute","replace","FieloFormElement","callback","get","componentHandler","upgradeElement","fieloProgramSelectorPRP","bind","document","getElementsByClassName","querySelectorAll","find","register","constructor","classAsString","cssClass","widget","FieloInvoiceItems","DATA_UPGRADED","DATA_CONTROLLER","DATA_FIELD_NAME","OBJECT_TYPE","ITEM","CONTAINER","DELETE","NEW","FORM_ELEMENT","PRODUCT_QTY","PRODUCT_UNIT_PRICE","PRODUCT_TOTAL_PRICE","PRODUCT_NAME","PILL_REMOVE","initItem_","invoiceItem","deleteBtn_","addEventListener","deleteItem_","refreshTotalPrice_","invoiceFormLst","length","invoiceForm","FieloFormInvoice","refreshTotal","invoiceItems_","remove","newinvoiceItem_","model_","cloneNode","container_","appendChild","position","removeAttribute","id","String","dataController","sObjectList","item","sObject","sObjectValue","Id","push","set","clear","items","click","newBtn_","FieloMultiFileUploaderPRP","MAX_FILE_SIZE","CHUNK_SIZE","UPLOAD_CONTROLLER","DELETE_FILES_CONTROLLER","PILL","CARD_BODY","PILL_CONTAINER","PILL_MODEL","PILL_LABEL","initPillsDocument","filePills_","handleFile","removePillbtn_","removePill","form_","FieloForm","event","deleteList","undefined","currentPillContainer","srcElement","currentPillLabel","fileIndex","newFile","fileList","deleteFilesFromServer","self","filesToDelete","slice","uploadFile","parentId","clearPills","nonModelPills","not","removeBtn","pill","ready","initPill","addEmptyFilePill","fakeFile","cardBody_","removeClass","Name","innerHTML","Title","addFilePill","file","name","Object","keys","input_","target","files","size","toString","message","BackEndJSSettings","LABELS","MaxFileSize","toFixed","throwMessage","value","FieloMultiFileUploaderPRP_handleFile","filePtr","fr","FileReader","onloadend","fileContents","btoa","result","upload","readAsBinaryString","ChooseFileFirst","redirectToParent","fromPos","toPos","Math","min","uploadChunk","attachId","chunk","substring","encodeURIComponent","type","a","modalList","modal","InvoiceSavedSuccess","redirectURL","location","notify","create","FieloNotify","addMessages","setTheme","show","SAVE_CONTROLLER","RETRIEVE_CONTROLLER","GET_PROGRAM_CONTROLLER","PRODUCT_RECENT","DATA_RECORD_ID","OBJECT_NAME","FIELDS","FIELD_NAME","REDIRECT","PRODUCT_FIELD","ITEMS_CONTAINER","SAVE","CANCEL","ELEMENT","INVOICE_ITEM","ADD_PRODUCTS","PRODUCT_FORM","PRODUCT_ADD","PRODUCT_CANCEL","PRODUCT_SEARCH","RECENT_RECORDS","RECENT_CHECKBOX","LOOKUP_PILL","SHOW","INVOICE_AMOUNT","TOTAL_POINTS","FILE_UPLOADER","NEW_FILE_BUTTON","BUTTON_ICON","INPUT","submitForm","saveRecord_","memberId","querySelector","getHasDetails","save_","memberValue","hasDetails","nullFields","formValues","getValues_","FieloPRP__Date__c","itemValues","itemsContainer_","FieloPRP__Amount__c","saveCallback_","warn","MemberMustBeChosen","processRemoteActionResult_","keepItems_","deleteFilesList","hasAttachments","hasDeletedAttachments","invoiceId","elements_","invoiceValues","invoiceElements_","property","setValues_","clear_","disableMemberValidation","setProductsFilter_","productRecent_","getElementById","productPaginator_","FieloRecentRecords","getPaginator","productFilter","IsActive","reloadproductRecent_","resetSearch_","recentPaginator_","searchFields_","productForm_","newFilters_","filterField_","getFilters","searchRecords_","parseFloat","resetKeepItems","showItems_","memberField_","addClass","elementFields","field","refreshTotalPriceProxy_","productField","keypress","protectProductField_","blur","verifyMember_","initNewItem","invoiceItems","lastInvoiceItem","updateProductBasket","recentProductRecords_","productsInfo_","recordCheckbox","checked","getEmptyInvoiceItems","productId","availableSlots","pop","invoiceContainerItems_","activeItem","uncheckAll","product","hasAmountFields","itemTotal","invoiceTotalValue","Number","isNaN","invoiceTotal_","isFirefox","navigator","userAgent","toLowerCase","indexOf","row","updatedField","unitPriceFieldElement","quantityFieldElement","totalPriceFieldElement","unitPriceField","quantityField","totalPriceField","stopPropagation","preventDefault","focus","memberNotNull","hasClass","validateHasDetails","currentEvent_","callbackHandler","FieloFormInvoice_refreshPoints","setParameters_","parameters_","hasOwnProperty","retrieveHandler_","hash","fields_","values","__c","key","split","parseDateFromSF","FieloPRP__InvoiceItems__r","itemElement","Attachments","attachment","multiFileUploader_","ContentDocumentLinks","ContentDocument","endRetrieve","disableMemberEdit_","HAS_ERROR","retrieve_","source","getParameters","isEditing","recordId_","retrieveRecordId","cloneId","fields","join","itemFields","objectName","retrieveController_","checkHasDetails","closeProducsModalIfOpened_","actionResult","InvoiceDetailInsertDisabled","hasDetailsCheck","hasDetailsFormElement","invoiceContainerItems","FieloPRP__HasDetails__c","FieloPRP__Member__c","hideAmount_","amountFormElem","getActiveProgram","getActiveProgramCallback","program","FieloPRP__RequestInvoiceProducts__c","getHasFields","td","retrieveProxy_","FieloFormInvoice_retrieve","openForm_","container","invoiceAmount_","addProductsBtn_","cancelBtn_","newProductBtn","productFormAddBtn_","productFormSearchBtn_","cancelProductsAddBtn_","on","_this","newFileBtn_","helper","FieloFormInvoiceApproval","COMMENTS","REJECT_REASON","RECORD_ID","toggle","required_","save","recordId","checkRequiredPassOk_","saveBtn_","FieloFormInvoiceApprover","ApproverId","FieloSubmitForApproval","SUBMIT_CONTROLLER","FORM_APPROVER","submit","record","submitCallback","formApprover","choseApproverFirst","response","messages","summary","severity","reload"],"mappings":"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","file":"core.js","sourcesContent":["(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloProgramSelectorPRP.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloProgramSelectorPRP = function FieloProgramSelectorPRP(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloProgramSelectorPRP = FieloProgramSelectorPRP;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloProgramSelectorPRP.prototype.Constant_ = {\n    PROGRAM: 'FieloPRP__Program__c',\n    PROGRAM_PLT: 'FieloPLT__Program__c',\n    MEMBER: 'FieloPRP__Member__c'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloProgramSelectorPRP.prototype.CssClasses_ = {\n    PAGINATOR: 'fielosf-paginator',\n    RECENT: 'fielosf-recent-records'\n  };\n\n  FieloProgramSelectorPRP.prototype.onChange = function() {\n    var filter = {};\n    this.getProgramId_();\n    [].forEach.call(this.programActions_, function(action) {\n      action.FieloButton.setParameter(this.Constant_.PROGRAM, this.programId_);\n    }, this);\n\n    filter[this.field_] = this.programId_;\n\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        'FieloPRP.BackEndProgramSelectorController.selectProgram',\n        filter[this.field_],\n        function() {},\n        {escape: false}\n      );\n    } catch (e) {\n      // Ya está todo listo. Oculto el spinner\n      console.log(e);\n      fielo.util.spinner.FieloSpinner.hide();\n    }\n\n    // disparo los paginadores\n    [].forEach.call(this.listOfPaginators_, function(paginator) {\n      // Seteo el paginador\n      if ($(paginator).closest('.' + this.CssClasses_.RECENT).is(':visible')) {\n        paginator.FieloPaginator.setFilters(filter);\n        paginator.FieloPaginator.setPage();\n        paginator.FieloPaginator.getRecords();\n      }\n    }, this);\n\n    // Update the member's where condition\n    [].forEach.call(this.listOfMemberFields_, function(memberField) {\n      if (memberField.getAttribute('data-where')\n        .includes(this.Constant_.PROGRAM_PLT)) {\n        if (this.oldProgramId_) {\n          if (this.oldProgramId_ !== this.programId_) {\n            memberField.setAttribute('data-where',\n              memberField.getAttribute('data-where').replace(\n                this.oldProgramId_,\n                this.programId_\n              )\n            );\n            if (memberField.FieloFormElement) {\n              memberField.FieloFormElement.init();\n            }\n          }\n        }\n      }\n    }, this);\n\n    this.callback();\n  };\n\n  /**\n   * Guarda el programId\n   */\n  FieloProgramSelectorPRP.prototype.getProgramId_ = function() {\n    this.oldProgramId_ = this.programId_;\n    this.programId_ = this.element_.FieloFormElement.get('value');\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloProgramSelectorPRP.prototype.init = function() {\n    if (this.element_) {\n      componentHandler.upgradeElement(this.element_);\n      window.fieloProgramSelectorPRP = this.onChange.bind(this);\n      this.field_ = 'FieloPRP__Member__r.FieloPLT__Program__c';\n      this.getProgramId_();\n      // para evitar el undefined\n      this.callback = function() {};\n\n      // Registro los paginadores de este filtro\n      this.listOfPaginators_ =\n        document.getElementsByClassName(this.CssClasses_.PAGINATOR);\n\n      this.listOfMemberFields_ =\n        document.querySelectorAll('[data-field-name=' +\n          this.Constant_.MEMBER + ']');\n\n      // Registro los input hidden dependientes del program\n      this.programActions_ = document.querySelectorAll(\n        '.slds-button[data-parameters*=\"' + this.Constant_.PROGRAM + '\"]'\n      );\n\n      // if programId was not set get from the selected program.\n      if (!this.programId_) {\n        this.programId_ = $(this.element_)\n          .find('.slds-is-selected')[0]\n            .getAttribute('data-value');\n      }\n    }\n  };\n\n  componentHandler.register({\n    constructor: FieloProgramSelectorPRP,\n    classAsString: 'FieloProgramSelectorPRP',\n    cssClass: 'fielosf-program-selector-prp',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloInvoiceItems.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloInvoiceItems = function FieloInvoiceItems(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloInvoiceItems = FieloInvoiceItems;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloInvoiceItems.prototype.Constant_ = {\n    DATA_UPGRADED: 'data-upgraded',\n    DATA_CONTROLLER: 'data-controller-element',\n    DATA_FIELD_NAME: 'data-field-name',\n    OBJECT_TYPE: 'FieloPRP__InvoiceItem__c'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloInvoiceItems.prototype.CssClasses_ = {\n    ITEM: 'fielosf-invoice__item',\n    CONTAINER: 'fielosf-invoice__container',\n    DELETE: 'slds-button--delete',\n    NEW: 'slds-button--new',\n    FORM_ELEMENT: 'slds-form-element',\n    PRODUCT_QTY: 'fielosf-product_qty',\n    PRODUCT_UNIT_PRICE: 'fielosf-product_unit-price',\n    PRODUCT_TOTAL_PRICE: 'fielosf-product_total-price',\n    PRODUCT_NAME: 'fielosf-product_name',\n    PILL_REMOVE: 'slds-pill__remove'\n\n  };\n\n  FieloInvoiceItems.prototype.initItem_ = function(invoiceItem) {\n    invoiceItem.deleteBtn_ =\n      invoiceItem.getElementsByClassName(this.CssClasses_.DELETE)[0];\n    invoiceItem.deleteBtn_.addEventListener(\n      'click',\n      this.deleteItem_.bind(this, invoiceItem)\n    );\n  };\n\n  FieloInvoiceItems.prototype.refreshTotalPrice_ = function() {\n    var invoiceFormLst = $(this.element_).closest(\n        '.fielosf-invoice-form');\n    if (invoiceFormLst.length > 0) {\n      var invoiceForm = invoiceFormLst[0].FieloFormInvoice;\n      invoiceForm.refreshTotal();\n    }\n  };\n\n  FieloInvoiceItems.prototype.deleteItem_ = function(invoiceItem) {\n    if (this.invoiceItems_.length > 1) {\n      invoiceItem.remove();\n      this.refreshTotalPrice_();\n    }\n  };\n\n  FieloInvoiceItems.prototype.newinvoiceItem_ = function() {\n    var invoiceItem = this.model_.cloneNode(true);\n    this.container_.appendChild(invoiceItem);\n    [].forEach.call(\n      invoiceItem.querySelectorAll('[' + this.Constant_.DATA_UPGRADED + ']'),\n      function(element, position) {\n        element.removeAttribute(this.Constant_.DATA_UPGRADED);\n        element.id = String(element.id + '-' + this.invoiceItems_.length);\n        var dataController = element\n          .getAttribute(this.Constant_.DATA_CONTROLLER) || null;\n        if (dataController && position !== 0) {\n          element.setAttribute(\n            this.Constant_.DATA_CONTROLLER,\n            String(dataController + '-' + this.invoiceItems_.length)\n          );\n        }\n        componentHandler.upgradeElement(element);\n      },\n        this\n    );\n    this.initItem_(invoiceItem);\n  };\n\n  /**\n   *\n   * Getter y Setters\n   *\n   */\n\n  /**\n   * Retorna la lista de items\n   * @return {Array | Object} - Lista de objetos (sObjects)\n   */\n  FieloInvoiceItems.prototype.get = function() {\n    var sObjectList = [];\n    [].forEach.call(this.invoiceItems_, function(item) {\n      var sObject = {};\n      [].forEach.call(item.getElementsByClassName(this\n          .CssClasses_.FORM_ELEMENT), function(element) {\n        var sObjectValue = element.FieloFormElement.get('value');\n        sObject[element.getAttribute(this.Constant_.DATA_FIELD_NAME)] =\n            sObjectValue;\n      }, this);\n      if (item.getAttribute('data-record-id') !== '') {\n        sObject.Id = item.getAttribute('data-record-id');\n      }\n      sObjectList.push(sObject);\n    }, this);\n    return sObjectList;\n  };\n\n  FieloInvoiceItems.prototype.set = function() {\n    return console.log('recibe lista de objetos');\n  };\n\n  FieloInvoiceItems.prototype.clear = function() {\n    this.newinvoiceItem_();\n    var items = this.element_.getElementsByClassName(this.CssClasses_.DELETE);\n    while (items.length > 1) {\n      items[0].click();\n    }\n    $(this.element_).find($('[data-field-name=\"FieloPRP__UnitPrice__c\"]')\n      )[0].FieloFormElement.set('value', '');\n    $(this.element_).find($('[data-field-name=\"FieloPRP__Quantity__c\"]')\n          )[0].FieloFormElement.set('value', 0);\n    $(this.element_).find($('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\n      )[0].FieloFormElement.set('value', '');\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloInvoiceItems.prototype.init = function() {\n    if (this.element_) {\n      this.container_ =\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER)[0];\n      this.invoiceItems_ =\n        this.element_.getElementsByClassName(this.CssClasses_.ITEM);\n      this.model_ = this.invoiceItems_[0].cloneNode(true);\n      this.newBtn_ =\n        this.element_.getElementsByClassName(this.CssClasses_.NEW)[0];\n      if (this.newBtn_) {\n        this.newBtn_\n          .addEventListener('click', this.newinvoiceItem_.bind(this));\n      }\n      [].forEach.call(this.invoiceItems_, this.initItem_.bind(this));\n    }\n  };\n\n  fielo.util.register({\n    constructor: FieloInvoiceItems,\n    classAsString: 'FieloInvoiceItems',\n    cssClass: 'fielosf-invoice-items',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  /**\n   * @description FieloMultiFileUploaderPRP controller.\n   * Enables multi file upload\n   * Implements the design patterns defined by MDL in\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Tiago Bittencourt Leal <tiago.leal@fielo.com>\n   * @param {HTMLElement} element - extended element.\n   * @constructor\n   */\n  var FieloMultiFileUploaderPRP = function FieloMultiFileUploaderPRP(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloMultiFileUploaderPRP = FieloMultiFileUploaderPRP;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloMultiFileUploaderPRP.prototype.Constant_ = {\n    MAX_FILE_SIZE: 4350000,\n    CHUNK_SIZE: 950000,\n    UPLOAD_CONTROLLER: 'FieloPRP.MultiFileUploader.saveTheChunk',\n    DELETE_FILES_CONTROLLER: 'FieloPRP.MultiFileUploader.deleteFiles'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloMultiFileUploaderPRP.prototype.CssClasses_ = {\n    PAGINATOR: 'fielosf-paginator',\n    PILL: 'slds-pill',\n    CARD_BODY: 'slds-card__body',\n    PILL_CONTAINER: 'slds-card__body--inner',\n    PILL_MODEL: 'slds-pill__model',\n    PILL_LABEL: 'slds-pill__label',\n    PILL_REMOVE: 'slds-pill__remove'\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloMultiFileUploaderPRP.prototype.init = function() {\n    if (this.element_) {\n      this.initPillsDocument();\n      this.filePills_ =\n        this.element_.getElementsByClassName(this.CssClasses_.PILL_MODEL);\n      $('#file-upload-input-01')[0].addEventListener(\n        'change', this.handleFile.bind(this));\n      this.removePillbtn_ =\n        this.element_.getElementsByClassName(\n          this.CssClasses_.PILL_REMOVE)[0];\n      this.removePillbtn_.addEventListener(\n        'click',\n        this.removePill.bind(this));\n\n      this.form_ = this.element_.FieloForm;\n\n      componentHandler.upgradeElement(this.element_);\n    }\n  };\n\n  FieloMultiFileUploaderPRP.prototype.removePill = function(event) {\n    if (this.deleteList === null || this.deleteList === undefined) {\n      this.deleteList = [];\n    }\n    this.currentPillContainer = $(event.srcElement).closest(\n      '.' + this.CssClasses_.PILL_CONTAINER)[0];\n    this.currentPillLabel = $(this.currentPillContainer).find(\n      '.' + this.CssClasses_.PILL_LABEL)[0];\n    var fileIndex = this.currentPillLabel\n      .getAttribute('data-record-id');\n    // Remove file from memory\n    this.newFile = false;\n    if (this.fileList) {\n      if (this.fileList[fileIndex]) {\n        delete this.fileList[fileIndex];\n        this.newFile = true;\n      }\n    }\n    // Remove file pill representation\n    this.currentPillContainer.remove();\n    if (!this.newFile) {\n      this.deleteList.push(fileIndex);\n    }\n  };\n\n  FieloMultiFileUploaderPRP.prototype.deleteFilesFromServer = function() {\n    if (this.deleteList) {\n      if (this.deleteList.length > 0) {\n        var self = this;\n        var filesToDelete = this.deleteList.slice();\n        this.deleteList = null;\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.DELETE_FILES_CONTROLLER,\n          filesToDelete,\n          this.uploadFile.bind(this, self.parentId),\n          {escape: true}\n        );\n      }\n    }\n  };\n\n  FieloMultiFileUploaderPRP.prototype.clearPills = function() {\n    this.nonModelPills = $(\n      this.element_\n        .getElementsByClassName(this.CssClasses_.PILL_CONTAINER)\n    ).not(\n      this.element_\n        .getElementsByClassName(this.CssClasses_.PILL_MODEL)\n    );\n    var removeBtn;\n    [].forEach.call(this.nonModelPills, function(pill) {\n      removeBtn = pill.getElementsByClassName(\n        this.CssClasses_.PILL_REMOVE)[0];\n      removeBtn.click();\n    },\n      this\n    );\n  };\n\n  FieloMultiFileUploaderPRP.prototype.initPillsDocument = function() {\n    $(document).ready(function() {\n      $('body').pill();\n    });\n  };\n\n  FieloMultiFileUploaderPRP.prototype.initPill = function(pill) {\n    this.removePillbtn_ =\n      $(pill).find('.' +\n        this.CssClasses_.PILL_REMOVE)[0];\n    this.removePillbtn_.addEventListener(\n      'click',\n      this.removePill.bind(this));\n  };\n\n  FieloMultiFileUploaderPRP.prototype.addEmptyFilePill = function(fakeFile) {\n    this.currentPillContainer = this.filePills_[0].cloneNode(true);\n    this.cardBody_ = this.element_.getElementsByClassName(\n      this.CssClasses_.CARD_BODY)[0];\n    this.cardBody_.appendChild(this.currentPillContainer);\n    $(this.currentPillContainer).removeClass('slds-hidden');\n    $(this.currentPillContainer).removeClass('slds-is-collapsed');\n    $(this.currentPillContainer).removeClass('slds-pill__model');\n    this.currentPillLabel =\n      this.currentPillContainer.getElementsByClassName(\n        this.CssClasses_.PILL_LABEL)[0];\n    if (fakeFile.Name) {\n      this.currentPillLabel.innerHTML = fakeFile.Name;\n      this.currentPillLabel.setAttribute('title', fakeFile.Name);\n    } else {\n      this.currentPillLabel.innerHTML = fakeFile.Title;\n      this.currentPillLabel.setAttribute('title', fakeFile.Title);\n    }\n    this.currentPillLabel.setAttribute('data-record-id',\n      fakeFile.Id);\n    this.initPill(this.currentPillContainer);\n  };\n\n  FieloMultiFileUploaderPRP.prototype.addFilePill = function(file) {\n    this.currentPillContainer = this.filePills_[0].cloneNode(true);\n    this.cardBody_ = this.element_.getElementsByClassName(\n      this.CssClasses_.CARD_BODY)[0];\n    this.cardBody_.appendChild(this.currentPillContainer);\n    $(this.currentPillContainer).removeClass('slds-hidden');\n    $(this.currentPillContainer).removeClass('slds-is-collapsed');\n    $(this.currentPillContainer).removeClass('slds-pill__model');\n    this.currentPillLabel =\n      this.currentPillContainer.getElementsByClassName(\n        this.CssClasses_.PILL_LABEL)[0];\n    this.currentPillLabel.innerHTML = file.name;\n    this.currentPillLabel.setAttribute('title', file.name);\n    this.currentPillLabel.setAttribute('data-record-id',\n      Object.keys(this.fileList).length - 1);\n    this.initPill(this.currentPillContainer);\n  };\n\n  FieloMultiFileUploaderPRP.prototype.handleFile = function(event) {\n    this.input_ = event.target;\n    if (this.fileList === null || this.fileList === undefined) {\n      this.fileList = {};\n    }\n    [].forEach.call(this.input_.files, function(file) {\n      try {\n        if (file.size < this.Constant_.MAX_FILE_SIZE) {\n          this.fileList[Object.keys(this.fileList).length.toString()] = file;\n          this.addFilePill(file);\n        } else {\n          var message = BackEndJSSettings.LABELS.MaxFileSize.replace('{0}',\n            (this.Constant_.MAX_FILE_SIZE / 1024 / 1024).toFixed(2).toString());\n          this.throwMessage(message, 'error');\n          this.input_.value = null;\n        }\n      } catch (e) {\n        console.log('error' + e);\n      }\n    },\n      this\n    );\n    this.input_.value = null;\n  };\n\n  window.FieloMultiFileUploaderPRP_handleFile = // eslint-disable-line camelcase\n    FieloMultiFileUploaderPRP.prototype.handleFile; // eslint-disable-line camelcase\n\n  FieloMultiFileUploaderPRP.prototype.uploadFile = function(parentId) {\n    this.parentId = parentId;\n    if (this.deleteList) {\n      this.deleteFilesFromServer();\n    } else if (this.fileList) {\n      var filePtr = Object.keys(this.fileList)[0];\n      var file = this.fileList[filePtr];\n      delete this.fileList[filePtr];\n      var self = this;\n      console.log(file);\n      if (file) {\n        var fr = new FileReader();\n        fr.onloadend = function() {\n          var fileContents = window.btoa(fr.result);\n          self.upload(parentId, file, fileContents);\n        };\n        fr.readAsBinaryString(file);\n      } else {\n        this.throwMessage(BackEndJSSettings.LABELS.ChooseFileFirst,\n          'error');\n      }\n    } else {\n      this.redirectToParent(parentId);\n    }\n  };\n\n  FieloMultiFileUploaderPRP.prototype.upload = function(\n      parentId, file, fileContents) {\n    var fromPos = 0;\n    var toPos = Math.min(fileContents.length,\n      fromPos + this.Constant_.CHUNK_SIZE);\n\n    // start with the initial chunk\n    this.uploadChunk(parentId, file, fileContents, fromPos, toPos, '');\n  };\n\n  FieloMultiFileUploaderPRP.prototype.uploadChunk = function(\n    parentId, file, fileContents, fromPos, toPos, attachId) {\n    var chunk = fileContents.substring(fromPos, toPos);\n    var self = this;\n    Visualforce.remoting.Manager.invokeAction(\n        this.Constant_.UPLOAD_CONTROLLER,\n        parentId,\n        file.name,\n        encodeURIComponent(chunk),\n        file.type,\n        attachId,\n        function(a) {\n          attachId = a;\n          fromPos = toPos;\n          toPos = Math.min(fileContents.length, fromPos +\n            self.Constant_.CHUNK_SIZE);\n          if (fromPos < toPos) {\n            self.uploadChunk(\n              parentId, file, fileContents, fromPos, toPos, attachId);\n          } else if (self.fileList) {\n            if (Object.keys(self.fileList).length > 0) {\n              self.uploadFile(parentId);\n            } else {\n              FieloMultiFileUploaderPRP.prototype\n                .redirectToParent.call(self, parentId);\n            }\n          } else {\n            FieloMultiFileUploaderPRP.prototype\n              .redirectToParent.call(self, parentId);\n          }\n        },\n        {escape: true}\n      );\n  };\n\n  FieloMultiFileUploaderPRP.prototype.redirectToParent = function(parentId) {\n    fielo.util.spinner.FieloSpinner.hide();\n    var modalList = document.getElementsByClassName('slds-modal');\n    [].forEach.call(modalList, function(modal) {\n      try {\n        $(modal).modal('dismiss');\n      } catch (e) {}\n    },\n      this\n    );\n    var result = {message: BackEndJSSettings.LABELS.InvoiceSavedSuccess,\n      redirectURL: '/' + parentId};\n    this.throwMessage(result.message, 'success');\n    location.replace(result.redirectURL);\n  };\n\n  FieloMultiFileUploaderPRP.prototype.throwMessage = function(message, type) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages([message]);\n    notify.FieloNotify.setTheme(type);\n    notify.FieloNotify.show();\n  };\n\n  componentHandler.register({\n    constructor: FieloMultiFileUploaderPRP,\n    classAsString: 'FieloMultiFileUploaderPRP',\n    cssClass: 'fielosf-multi-file-uploader',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  var FieloFormInvoice = function FieloFormInvoice(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloFormInvoice = FieloFormInvoice;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloFormInvoice.prototype.Constant_ = {\n    SAVE_CONTROLLER: 'FieloPRP.FormInvoiceController.save',\n    RETRIEVE_CONTROLLER: 'data-retrieve-controller',\n    GET_PROGRAM_CONTROLLER: 'FieloPRP.FormInvoiceController.getActiveProgram',\n    MEMBER: 'FieloPRP__Member__c',\n    PRODUCT_RECENT: 'recentProductRecords',\n    DATA_RECORD_ID: 'data-record-id',\n    OBJECT_NAME: 'data-object-name',\n    FIELDS: 'data-fields',\n    FIELD_NAME: 'data-field-name',\n    REDIRECT: 'data-redirect',\n    PRODUCT_FIELD: 'data-product-field-name'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloFormInvoice.prototype.CssClasses_ = {\n    CONTAINER: 'slds-form-element',\n    ITEMS_CONTAINER: 'fielosf-invoice-items',\n    SAVE: 'slds-form__save',\n    CANCEL: 'slds-form__cancel',\n    DELETE: 'slds-button--delete',\n    NEW: 'slds-button--new',\n    ELEMENT: 'slds-form-element',\n    INVOICE_ITEM: 'fielosf-invoice__item',\n    ADD_PRODUCTS: 'slds-button--addproducts',\n    PRODUCT_QTY: 'fielosf-product_qty',\n    PRODUCT_UNIT_PRICE: 'fielosf-product_unit-price',\n    PRODUCT_TOTAL_PRICE: 'fielosf-product_total-price',\n    PRODUCT_NAME: 'fielosf-product_name',\n    PRODUCT_FORM: 'fielosf-invoice-form-addproducts',\n    PRODUCT_ADD: 'slds-form-product__add',\n    PRODUCT_CANCEL: 'slds-form-product__cancel',\n    PRODUCT_SEARCH: 'slds-form-product__search',\n    RECENT_RECORDS: 'fielosf-recent-records__model',\n    RECENT_CHECKBOX: 'fielosf-recent-records-checkbox',\n    LOOKUP_PILL: 'slds-pill_container',\n    SHOW: 'slds-show',\n    INVOICE_AMOUNT: 'fielosf-invoice_amount',\n    TOTAL_POINTS: 'fielosf-total_points',\n    FILE_UPLOADER: 'fielosf-multi-file-uploader',\n    NEW_FILE_BUTTON: 'slds-file-selector__button',\n    BUTTON_ICON: 'slds-button__icon',\n    PILL_LABEL: 'slds-pill__label',\n    INPUT: 'slds-input'\n\n  };\n\n  FieloFormInvoice.prototype.submitForm = function() {\n    this.saveRecord_ = true;\n    var memberId = this.element_\n      .querySelector('[data-field-name=\"' + this.Constant_.MEMBER + '\"]')\n        .FieloFormElement.get('value');\n    this.getHasDetails(memberId);\n  };\n\n  /**\n   * Envía el formulario\n   */\n  FieloFormInvoice.prototype.save_ = function() {\n    fielo.util.spinner.FieloSpinner.show();\n    var memberValue = this.element_\n      .querySelector('[data-field-name=\"' + this.Constant_.MEMBER + '\"]')\n        .FieloFormElement.get('value');\n    var hasDetails = '';\n    var event = '';\n    var nullFields = [];\n    if (memberValue) {\n      hasDetails = this.element_\n        .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\n          .FieloFormElement.get('value');\n      fielo.util.spinner.FieloSpinner.show();\n      var formValues = this.getValues_();\n      if (formValues.Id === '') {\n        delete formValues.Id;\n      }\n      if (formValues.FieloPRP__Date__c === '' ||\n        formValues.FieloPRP__Date__c === null ||\n        formValues.FieloPRP__Date__c === undefined) {\n        delete formValues.FieloPRP__Date__c;\n        nullFields.push('FieloPRP__Date__c');\n      }\n      var itemValues =\n        this.itemsContainer_.FieloInvoiceItems.get();\n\n      if (hasDetails) {\n        if (formValues.FieloPRP__Amount__c !== null &&\n            formValues.FieloPRP__Amount__c !== undefined) {\n          delete formValues.FieloPRP__Amount__c;\n        }\n      }\n\n      try {\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.SAVE_CONTROLLER,\n          formValues,\n          hasDetails ? itemValues : null,\n          nullFields,\n          this.saveCallback_.bind(this),\n          {\n            escape: false\n          }\n        );\n      } catch (e) {\n        console.warn(e);\n      }\n    } else {\n      event = {message: BackEndJSSettings.LABELS.MemberMustBeChosen,\n        redirectURL: '#'};\n      this.form_.processRemoteActionResult_(null, event);\n    }\n    this.keepItems_ = false;\n  };\n\n  FieloFormInvoice.prototype.saveCallback_ = function(result, event) {\n    var fileList = this.element_\n      .getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\n        .FieloMultiFileUploaderPRP.fileList;\n    var deleteFilesList = this.element_\n      .getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\n        .FieloMultiFileUploaderPRP.deleteList;\n    this.hasAttachments = fileList ?\n      Object.keys(fileList).length > 0 :\n      false;\n    this.hasDeletedAttachments = deleteFilesList ?\n      deleteFilesList.length > 0 :\n      false;\n    if (result.redirectURL === null || result.redirectURL === undefined) {\n      this.form_.processRemoteActionResult_(result, event);\n    } else if (this.hasAttachments || this.hasDeletedAttachments) {\n      var invoiceId = result.redirectURL.substring(1,\n        result.redirectURL.length);\n      this.element_.getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\n        .FieloMultiFileUploaderPRP.uploadFile(invoiceId);\n    } else {\n      this.form_.processRemoteActionResult_(result, event);\n    }\n  };\n\n  FieloFormInvoice.prototype.getValues_ = function() {\n    this.form_.elements_ = [];\n    var invoiceValues = {};\n    // invoiceValues.sObjectType =\n    //  this.form_.element_.getAttribute(this.form_.Constant_.OBJECT_NAME);\n\n    [].forEach.call(this.invoiceElements_, function(element) {\n      if (element.FieloFormElement.get('fieldName') !== '') {\n        var property = element.FieloFormElement.get('fieldName');\n        if (property) {\n          this.form_.elements_[property] = element;\n          invoiceValues[property] = element.FieloFormElement.get('value');\n        }\n      }\n    }, this);\n    return invoiceValues;\n  };\n\n  FieloFormInvoice.prototype.setValues_ = function() {\n    return this.itemsContainer_.FieloInvoiceItems.set();\n  };\n\n  FieloFormInvoice.prototype.clear_ = function() {\n    if (!this.keepItems_) {\n      this.disableMemberValidation = true;\n      [].forEach.call(this.invoiceElements_, function(item) {\n        item.FieloFormElement.clear();\n      });\n      this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)[0]\n        .FieloInvoiceItems.clear();\n      this.initItem_(\n        this.element_.getElementsByClassName(\n          this.CssClasses_.ITEMS_CONTAINER)[0]);\n      this.element_.getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\n        .FieloMultiFileUploaderPRP.clearPills();\n      this.disableMemberValidation = false;\n    }\n  };\n\n  FieloFormInvoice.prototype.setProductsFilter_ = function() {\n    this.productRecent_ = document.getElementById(\n      this.Constant_.PRODUCT_RECENT);\n    this.productPaginator_ =\n      this.productRecent_.FieloRecentRecords.getPaginator(\n        ).FieloPaginator;\n    this.productFilter = [];\n\n    this.productFilter.IsActive = true;\n    this.productPaginator_.setFilters(\n        this.productFilter);\n  };\n\n  /**\n   * Reload Reward Recent Records\n   */\n  FieloFormInvoice.prototype.reloadproductRecent_ = function() {\n    this.keepItems_ = true;\n    this.productRecent_ = document.getElementById(\n      this.Constant_.PRODUCT_RECENT);\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\n      this.resetSearch_();\n      this.setProductsFilter_();\n      this.recentPaginator_ =\n        this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\n      this.recentPaginator_.setPage();\n      this.recentPaginator_.getRecords();\n    }\n  };\n\n  FieloFormInvoice.prototype.resetSearch_ = function() {\n    this.productRecent_ = document.getElementById(\n      this.Constant_.PRODUCT_RECENT);\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\n      this.searchFields_ = this.productForm_.getElementsByClassName(\n        this.CssClasses_.ELEMENT);\n      this.newFilters_ = [];\n      [].forEach.call(this.searchFields_, function(element) {\n        this.filterField_ = element.FieloFormElement;\n        this.productPaginator_ =\n          this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\n        delete this.productPaginator_.getFilters()[\n            this.filterField_.get('fieldName')];\n      },\n      this\n      );\n      this.productPaginator_.setFilters(this.newFilters_);\n    }\n  };\n\n  /**\n   * Execute Search\n   */\n  FieloFormInvoice.prototype.searchRecords_ = function() {\n    this.productRecent_ = document.getElementById(\n      this.Constant_.PRODUCT_RECENT);\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\n      this.searchFields_ = this.productForm_.getElementsByClassName(\n        this.CssClasses_.ELEMENT);\n      this.newFilters_ = [];\n\n      [].forEach.call(this.searchFields_, function(element) {\n        this.filterField_ = element.FieloFormElement;\n        this.productPaginator_ =\n          this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\n        if (this.filterField_.get('value') !== '' &&\n          this.filterField_.get('value') !== null &&\n          this.filterField_.get('value') !== undefined) {\n          if (this.filterField_.get('type') === 'input-double') {\n            this.newFilters_[\n              this.filterField_.get('fieldName')] =\n              parseFloat(this.filterField_.get('value'));\n          } else {\n            this.newFilters_[\n              this.filterField_.get('fieldName')] =\n              this.filterField_.get('value');\n          }\n        } else {\n          delete this.productPaginator_.getFilters()[\n            this.filterField_.get('fieldName')];\n        }\n      },\n      this\n      );\n      this.productPaginator_.setFilters(this.newFilters_);\n      this.productPaginator_.setPage();\n      this.productPaginator_.getRecords();\n    }\n  };\n\n  FieloFormInvoice.prototype.resetKeepItems = function() {\n    this.keepItems_ = false;\n  };\n\n  FieloFormInvoice.prototype.showItems_ = function() {\n    if (this.memberField_.FieloFormElement.get('value') === null ||\n      this.memberField_.FieloFormElement.get('value') === undefined) {\n      $(this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)\n        ).addClass('slds-hide');\n    } else {\n      $(this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)\n        ).removeClass('slds-hide');\n    }\n  };\n\n  FieloFormInvoice.prototype.initItem_ = function(element) {\n    this.elementFields = element.getElementsByClassName(\n          this.CssClasses_.ELEMENT);\n\n    [].forEach.call(this.elementFields, function(field) {\n      field.addEventListener('change', this.refreshTotalPriceProxy_.bind(this));\n      componentHandler.upgradeElement(field);\n    },\n      this\n    );\n    $('[data-field-name=\"' + this.productField + '\"]')\n      .find('#invoiceForm--input')\n      .keypress(this.protectProductField_.bind(this));\n  };\n\n  FieloFormInvoice.prototype.protectProductField_ = function(event) {\n    if ($('[data-field-name=\"FieloPRP__Member__c\"]')[0]\n        .FieloFormElement.get('value') === '') {\n      $('[data-field-name=\"' + this.productField + '\"]')\n      .find('#invoiceForm--input').blur();\n    }\n    this.verifyMember_(event);\n  };\n\n  FieloFormInvoice.prototype.initNewItem = function() {\n    this.invoiceItems =\n      this.element_.getElementsByClassName(\n        this.CssClasses_.INVOICE_ITEM);\n    this.lastInvoiceItem =\n      this.invoiceItems[this.invoiceItems.length - 1];\n    this.initItem_(this.lastInvoiceItem);\n  };\n\n  FieloFormInvoice.prototype.updateProductBasket = function() {\n    this.recentProductRecords_ =\n      this.productForm_.getElementsByClassName(this.CssClasses_.RECENT_RECORDS);\n    this.productsInfo_ = [];\n\n    [].forEach.call(this.recentProductRecords_, function(element) {\n      this.recordCheckbox =\n        element.querySelector(\n          '.' + this.CssClasses_.RECENT_CHECKBOX)\n            .querySelector('input');\n      if (this.recordCheckbox.checked === true) {\n        this.productsInfo_.push(element.getAttribute(\n            this.Constant_.DATA_RECORD_ID));\n      }\n    },\n      this\n    );\n\n    this.invoiceItems_ = this.element_.getElementsByClassName(\n      this.CssClasses_.ITEMS_CONTAINER)[0];\n\n    this.getEmptyInvoiceItems();\n\n    [].forEach.call(this.productsInfo_, function(productId) {\n      if (productId !== null &&\n        productId !== undefined) {\n        if (this.availableSlots.length > 0) {\n          this.lastInvoiceItem = this.availableSlots.pop();\n        } else {\n          this.invoiceContainerItems_ = this.element_.getElementsByClassName(\n          this.CssClasses_.ITEMS_CONTAINER)[0];\n          // todo: discover a new way to create redemption items, or turn the\n          // the method into a public method\n          this.invoiceContainerItems_.FieloInvoiceItems.newinvoiceItem_();\n          this.invoiceItems_ =\n            this.element_.getElementsByClassName(\n              this.CssClasses_.INVOICE_ITEM);\n          this.lastInvoiceItem =\n            this.invoiceItems_[this.invoiceItems_.length - 1];\n        }\n        this.initItem_(this.lastInvoiceItem);\n        this.elementFields = this.lastInvoiceItem.getElementsByClassName(\n          this.CssClasses_.ELEMENT);\n\n        $(this.lastInvoiceItem).find(\n            $('[data-field-name=\"' + this.productField + '\"]')\n            )[0].FieloFormElement.set('value', productId);\n        $(this.lastInvoiceItem).find(\n            $('[data-field-name=\"FieloPRP__Quantity__c\"]')\n            )[0].FieloFormElement.set('value', 1);\n        this.activeItem = this.lastInvoiceItem;\n        this.activeItem.setAttribute('data-value', productId);\n      }\n    },\n      this\n    );\n    this.productRecent_.FieloRecentRecords.uncheckAll();\n  };\n\n  /**\n   * Set the available redemptions slots array\n   *\n   */\n  FieloFormInvoice.prototype.getEmptyInvoiceItems = function() {\n    var product;\n    this.availableSlots = [];\n    [].forEach.call(\n      this.element_.getElementsByClassName(this.CssClasses_.INVOICE_ITEM),\n      function(element) {\n        product =\n          $(element).find(\n            $('[data-field-name=\"' + this.productField + '\"]')\n            )[0].FieloFormElement.get('value');\n        if (product === null || product === undefined) {\n          this.availableSlots.push(element);\n        }\n      },\n        this\n    );\n  };\n\n  FieloFormInvoice.prototype.refreshTotal = function() {\n    if (this.hasAmountFields) {\n      this.invoiceItems_ = this.element_.getElementsByClassName(\n        this.CssClasses_.INVOICE_ITEM);\n      var invoiceTotalValue = Number(0);\n      var itemTotal;\n      [].forEach.call(this.invoiceItems_, function(item) {\n        itemTotal = $(item).find(\n          $('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\n            )[0].FieloFormElement.get('value');\n        itemTotal = isNaN(parseFloat(itemTotal)) ?\n          parseFloat(0) :\n          parseFloat(itemTotal);\n        invoiceTotalValue += Number(parseFloat(itemTotal));\n      },\n        this\n      );\n      this.invoiceTotal_ =\n        this.element_.querySelector('.' + this.CssClasses_.TOTAL_POINTS);\n      this.invoiceTotal_.innerHTML = parseFloat(invoiceTotalValue).toFixed(2);\n    }\n  };\n\n  FieloFormInvoice.prototype.refreshTotalPriceProxy_ = function(value) {\n    var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n    console.log(isFirefox);\n\n    this.verifyMember_(value);\n    if (this.hasAmountFields) {\n      var row;\n      var updatedField;\n      if (isFirefox) {\n        row =\n          $(value.target).closest('.' + this.CssClasses_.INVOICE_ITEM)[0];\n\n        updatedField =\n          $(value.target).closest('.' +\n            this.CssClasses_.ELEMENT)[0].FieloFormElement.get('fieldName');\n      } else {\n        row =\n          $(value.srcElement).closest('.' + this.CssClasses_.INVOICE_ITEM)[0];\n\n        updatedField =\n          $(value.srcElement).closest('.' +\n            this.CssClasses_.ELEMENT)[0].FieloFormElement.get('fieldName');\n      }\n\n      var unitPriceFieldElement =\n        $(row).find($('[data-field-name=\"FieloPRP__UnitPrice__c\"]')\n              )[0];\n      var quantityFieldElement =\n        $(row).find($('[data-field-name=\"FieloPRP__Quantity__c\"]')\n              )[0];\n      var totalPriceFieldElement =\n        $(row).find($('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\n              )[0];\n\n      var unitPriceField = unitPriceFieldElement ?\n        unitPriceFieldElement.FieloFormElement :\n        null;\n      var quantityField = quantityFieldElement ?\n        quantityFieldElement.FieloFormElement :\n        null;\n      var totalPriceField = totalPriceFieldElement ?\n        totalPriceFieldElement.FieloFormElement :\n        null;\n\n      if (unitPriceField) {\n        if (unitPriceField.get('value') === null ||\n          unitPriceField.get('value') === undefined ||\n          unitPriceField.get('value') === '') {\n          unitPriceField.set('value', 0);\n        }\n      }\n      if (quantityField) {\n        if (quantityField.get('value') === null ||\n          quantityField.get('value') === undefined ||\n          quantityField.get('value') === '') {\n          quantityField.set('value', 0);\n        }\n      }\n      if (totalPriceField) {\n        if (totalPriceField.get('value') === null ||\n          totalPriceField.get('value') === undefined ||\n          totalPriceField.get('value') === '') {\n          totalPriceField.set('value', 0);\n        }\n      }\n      /* var zeroUnitPrice =\n        unitPriceField.get('value') === '0';\n      var zeroQuantity =\n        quantityField.get('value') === '0';\n      var zeroTotalPrice =\n        totalPriceField.get('value') === '0';\n      */\n      if (totalPriceField && quantityField && unitPriceField) {\n        if (updatedField === 'FieloPRP__Quantity__c') {\n          totalPriceField.set('value',\n            (parseFloat(quantityField.get('value')) *\n              parseFloat(unitPriceField.get('value'))).toFixed(2)\n            );\n        }\n        if (updatedField === 'FieloPRP__UnitPrice__c') {\n          totalPriceField.set('value',\n            (parseFloat(quantityField.get('value')) *\n              parseFloat(unitPriceField.get('value'))).toFixed(2)\n            );\n        }\n        if (updatedField === 'FieloPRP__TotalPrice__c') {\n          unitPriceField.set('value',\n            (parseFloat(quantityField.get('value')) > 0.0 ?\n            parseFloat(totalPriceField.get('value')) /\n              parseFloat(quantityField.get('value')) :\n              0).toFixed(2)\n            );\n        }\n      }\n      this.refreshTotal();\n    }\n  };\n\n  FieloFormInvoice.prototype.verifyMember_ = function(event) {\n    if (!this.disableMemberValidation) {\n      var memberId = document.querySelector(\n        '[data-field-name=\"FieloPRP__Member__c\"]'\n        ).FieloFormElement.get('value');\n      if (memberId === null || memberId === undefined) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.keepItems_ = false;\n        this.clear_();\n        this.throwMessage(BackEndJSSettings.LABELS.MemberMustBeChosen, 'error');\n        $('[data-field-name=\"FieloPRP__Member__c\"]')\n          .find('#invoiceForm--input')[0].focus();\n      } else {\n        this.memberNotNull = true;\n        if ($(event.srcElement).hasClass(this.CssClasses_.ADD_PRODUCTS) ||\n          $(event.srcElement).hasClass(this.CssClasses_.NEW) ||\n          $(event.srcElement).hasClass(this.CssClasses_.ELEMENT) ||\n          $(event.srcElement).hasClass(this.CssClasses_.INPUT)) {\n          this.validateHasDetails = true;\n        } else {\n          this.validateHasDetails = false;\n        }\n        this.currentEvent_ = event;\n        this.getHasDetails(memberId);\n      }\n    }\n  };\n\n  FieloFormInvoice.prototype.getHasDetails = function(memberId) {\n    Visualforce.remoting.Manager.invokeAction(\n      'FieloPRP.FormInvoiceController.getHasDetailsFromMember',\n      memberId,\n      this.callbackHandler.bind(this),\n      {escape: true}\n    );\n  };\n\n  window.FieloFormInvoice_refreshPoints = // eslint-disable-line camelcase\n      FieloFormInvoice.prototype.refreshTotalPriceProxy_;\n\n  FieloFormInvoice.prototype.setParameters_ = function() {\n    for (var field in this.parameters_) {\n      if (this.parameters_.hasOwnProperty(field) &&\n          this.elements_.hasOwnProperty(field)) {\n        this.elements_[field].FieloFormElement.set(\n          'value',\n          this.parameters_[field]\n        );\n      }\n    }\n  };\n\n  /**\n   * Callback interno para retrieveRecords_\n   * @param {sObject} result - record\n   * @param {event} event - status ajax\n   *\n   */\n  FieloFormInvoice.prototype.retrieveHandler_ = function(result) {\n    fielo.util.spinner.FieloSpinner.show();\n    this.result = result;\n    try {\n      // analizo si hay listas\n      // preparo un hash para representar los campos que tienen listas\n      var hash = '|';\n      for (var field in result) {\n        if (result.hasOwnProperty(field) && field.indexOf('__r') > -1) {\n          hash += field.slice(0, -1) + 'c|';\n        }\n      }\n\n      this.fields_.forEach(function(field) {\n        // si es una lista\n        if (hash.indexOf(field) > -1) {\n          var values;\n          switch (typeof result[field.slice(0, -1) + 'r']) {\n            case 'object':\n              // es un objeto que en su propiedad field contiene un string con id separados por ;\n              // siguiendo el formato de salesforce\n              // hay que parsear la informacion para pasarlo a la interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              // busco la clave que contiene el campo __c\n              var __c;\n              for (var key in values) {\n                if (values.hasOwnProperty(key) && key.indexOf('__c') > -1) {\n                  __c = key;\n                  break;\n                }\n              }\n              if (__c) {\n                values = values[__c].split(';');\n              } else {\n                values = result[field];\n              }\n              break;\n            case 'array':\n            default:\n              // una interfaz normal\n              values = result[field.slice(0, -1) + 'r'];\n              break;\n          }\n          this.elements_[field].FieloFormElement.set('value', values);\n        } else if (this.elements_[field]) {\n          if (\n            this.elements_[field].FieloFormElement.get('type') === 'input-date'\n          ) {\n            result[field] = fielo.util.parseDateFromSF(result[field]);\n          }\n          this.elements_[field].FieloFormElement.set('value', result[field]);\n        }\n      }, this);\n\n      if (this.result.FieloPRP__InvoiceItems__r) {\n        this.getEmptyInvoiceItems();\n\n        this.result.FieloPRP__InvoiceItems__r.forEach(function(item) {\n          if (this.availableSlots.length > 0) {\n            this.lastInvoiceItem = this.availableSlots.pop();\n          } else {\n            this.invoiceContainerItems_ = this.element_.getElementsByClassName(\n            this.CssClasses_.ITEMS_CONTAINER)[0];\n            // todo: discover a new way to create items, or turn the\n            // the method into a public method\n            this.invoiceContainerItems_.FieloInvoiceItems.newinvoiceItem_();\n            this.invoiceItems_ =\n            this.element_.getElementsByClassName(\n              this.CssClasses_.INVOICE_ITEM);\n            this.lastInvoiceItem =\n            this.invoiceItems_[this.invoiceItems_.length - 1];\n          }\n          this.initItem_(this.lastInvoiceItem);\n          this.elementFields = this.lastInvoiceItem.getElementsByClassName(\n            this.CssClasses_.ELEMENT);\n\n          [].forEach.call(Object.keys(item), function(field) {\n            if (field === 'Id') {\n              if (item[field]) {\n                this.lastInvoiceItem.setAttribute('data-record-id',\n                  item[field]);\n              }\n            } else if (item[field]) {\n              var itemElement = $(this.lastInvoiceItem).find(\n                $('[data-field-name=\"' + field + '\"]')\n                  )[0];\n              if (itemElement) {\n                itemElement.FieloFormElement.set('value', item[field]);\n              }\n            }\n          },\n            this\n          );\n        },\n          this\n        );\n      }\n      if (this.result.Attachments) {\n        [].forEach.call(this.result.Attachments, function(attachment) {\n          this.multiFileUploader_.FieloMultiFileUploaderPRP\n            .addEmptyFilePill(attachment);\n        },\n          this\n        );\n      }\n      if (this.result.ContentDocumentLinks) {\n        [].forEach.call(this.result.ContentDocumentLinks, function(file) {\n          if (file.ContentDocument) {\n            this.multiFileUploader_.FieloMultiFileUploaderPRP\n              .addEmptyFilePill(file.ContentDocument);\n          }\n        },\n          this\n        );\n      }\n\n      // 3 - Pisar con los parameters de source en edit y new\n      this.setParameters_();\n      this.endRetrieve();\n      this.disableMemberEdit_();\n    } catch (e) {\n      var notify = fielo.util.notify.create();\n      notify.FieloNotify.addMessages([this.Constant_.HAS_ERROR, e]);\n      notify.FieloNotify.setTheme('error');\n      notify.FieloNotify.show();\n    }\n    fielo.util.spinner.FieloSpinner.hide();\n  };\n\n  FieloFormInvoice.prototype.retrieve_ = function(source) {\n    // traigo los parameters del boton\n    this.parameters_ = source.FieloButton.getParameters();\n\n    // Setea parametros default en edit y new\n    this.setParameters_();\n\n    // 2 - Hacer retrieve si estoy en edit\n    if (\n      this.parameters_.hasOwnProperty('Id') ||\n      this.parameters_.hasOwnProperty('cloneId')\n    ) {\n      this.isEditing = true;\n      this.recordId_ = this.parameters_.Id;\n\n      var retrieveRecordId = this.parameters_.Id || this.parameters_.cloneId;\n\n      // Si es un record busca los datos y los setea\n      var fields = Object.keys(this.getValues_()).join();\n\n      var itemFields = Object.keys(\n        this.itemsContainer_.FieloInvoiceItems.get()[0]).join();\n\n      var objectName = this.element_.getAttribute(this.Constant_.OBJECT_NAME);\n      Visualforce.remoting.Manager.invokeAction(\n        this.retrieveController_,\n        objectName,\n        retrieveRecordId,\n        fields,\n        itemFields,\n        this.retrieveHandler_.bind(this),\n        {escape: true}\n      );\n    } else {\n      this.isEditing = false;\n      this.setParameters_();\n      this.endRetrieve();\n    }\n  };\n\n  FieloFormInvoice.prototype.checkHasDetails = function() {\n    var hasDetails = this.element_\n      .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\n        .FieloFormElement.get('value');\n    if (!hasDetails) {\n      this.currentEvent_.stopPropagation();\n      this.currentEvent_.preventDefault();\n      this.keepItems_ = false;\n      this.clear_();\n      this.closeProducsModalIfOpened_();\n      var actionResult = {\n        message: BackEndJSSettings.LABELS.InvoiceDetailInsertDisabled};\n      this.form_.processRemoteActionResult_(null, actionResult);\n    }\n  };\n\n  /**\n   * Callback interno para getHasDetails,\n   * Pay attention to other class variables that\n   * are used in this method:\n   * - this.validateHasDetails (will execute some validations)\n   * - this.saveRecord_ (tries to save the record)\n   * @param {boolean} result - HasDetails or not\n   *\n   */\n  FieloFormInvoice.prototype.callbackHandler = function(result) {\n    if (result) {\n      this.element_\n      .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\n        .FieloFormElement.set('value', result);\n    }\n    if (this.validateHasDetails) {\n      this.checkHasDetails();\n      this.validateHasDetails = false;\n    }\n    if (this.saveRecord_) {\n      this.saveRecord_ = false;\n      this.save_();\n    }\n  };\n\n  FieloFormInvoice.prototype.hasDetailsCheck = function() {\n    var hasDetailsFormElement =\n      this.element_.querySelector(\n        '[data-field-name=\"FieloPRP__HasDetails__c\"]');\n    var invoiceContainerItems =\n      this.element_.querySelector(\n        '.' + this.CssClasses_.ITEMS_CONTAINER);\n\n    $(hasDetailsFormElement).addClass('slds-hidden');\n    $(hasDetailsFormElement).addClass('slds-is-collapsed');\n\n    if (this.result !== null && this.result !== undefined) {\n      var hasDetails = this.result.FieloPRP__HasDetails__c;\n      var memberValue = this.result.FieloPRP__Member__c;\n      if (memberValue !== null && !hasDetails) {\n        $(invoiceContainerItems).addClass('slds-hidden');\n        $(invoiceContainerItems).addClass('slds-is-collapsed');\n      }\n      if (memberValue !== null && hasDetails) {\n        this.hideAmount_();\n      }\n    }\n\n    componentHandler.upgradeElement(hasDetailsFormElement);\n  };\n\n  FieloFormInvoice.prototype.endRetrieve = function() {\n    this.hasDetailsCheck();\n    this.refreshTotal();\n  };\n\n  FieloFormInvoice.prototype.closeProducsModalIfOpened_ = function() {\n    if ($('.' + this.CssClasses_.PRODUCT_FORM).hasClass('slds-show')) {\n      $('.fielosf-invoice-form-addproducts').modal('hide');\n    }\n    if ($('.fielosf-invoice-form').hasClass('slds-hide')) {\n      $('.fielosf-invoice-form').modal('show');\n    }\n  };\n\n  FieloFormInvoice.prototype.hideAmount_ = function() {\n    var amountFormElem =\n      this.element_.querySelector(\n        '[data-field-name=\"FieloPRP__Amount__c\"]');\n\n    $(amountFormElem).addClass('slds-hidden');\n    $(amountFormElem).addClass('slds-is-collapsed');\n  };\n\n  FieloFormInvoice.prototype.disableMemberEdit_ = function() {\n    $('[data-field-name=\"FieloPRP__Member__c\"]')\n      .addClass('disabled');\n  };\n\n  FieloFormInvoice.prototype.getActiveProgram = function() {\n    Visualforce.remoting.Manager.invokeAction(\n      this.Constant_.GET_PROGRAM_CONTROLLER,\n      this.getActiveProgramCallback.bind(this),\n      {escape: true}\n    );\n  };\n\n  FieloFormInvoice.prototype.getActiveProgramCallback = function(program) {\n    if (!this.isEditing) {\n      if (program.FieloPRP__RequestInvoiceProducts__c) {\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\n          .removeClass('slds-hidden');\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\n          .removeClass('slds-is-collapsed');\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\n          .addClass('slds-hidden');\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\n          .addClass('slds-is-collapsed');\n      } else {\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\n          .addClass('slds-hidden');\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\n          .addClass('slds-is-collapsed');\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\n          .removeClass('slds-hidden');\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\n          .removeClass('slds-is-collapsed');\n      }\n    }\n  };\n\n  FieloFormInvoice.prototype.getHasFields = function() {\n    this.hasAmountFields = false;\n    if (this.itemsContainer_\n        .querySelector('[data-field-name=\"FieloPRP__Quantity__c\"]') &&\n      this.itemsContainer_\n        .querySelector('[data-field-name=\"FieloPRP__UnitPrice__c\"]') &&\n      this.itemsContainer_\n        .querySelector('[data-field-name=\"FieloPRP__TotalPrice__c\"]')) {\n      this.hasAmountFields = true;\n    }\n    if (this.hasAmountFields === false) {\n      [].forEach.call(this.itemsContainer_\n        .querySelector('tfoot')\n          .querySelectorAll('td'), function(td) {\n        td.innerHTML = '';\n      }, this);\n    }\n  };\n\n  FieloFormInvoice.prototype.throwMessage = function(message, type) {\n    var notify = fielo.util.notify.create();\n    notify.FieloNotify.addMessages([message]);\n    notify.FieloNotify.setTheme(type);\n    notify.FieloNotify.show();\n  };\n\n  FieloFormInvoice.prototype.retrieveProxy_ = function(modal, source) {\n    modal.FieloFormInvoice.clear_();\n    modal.FieloFormInvoice.retrieve_(source);\n  };\n  window.FieloFormInvoice_retrieve = FieloFormInvoice.prototype.retrieveProxy_; // eslint-disable-line camelcase\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloFormInvoice.prototype.init = function() {\n    if (this.element_) {\n      this.openForm_ = location.hash.split('#').slice(1);\n      this.retrieveController_ =\n        this.element_.getAttribute(this.Constant_.RETRIEVE_CONTROLLER);\n\n      this.productField =\n        this.element_.getAttribute(this.Constant_.PRODUCT_FIELD);\n\n      this.form_ = this.element_.FieloForm;\n\n      this.itemsContainer_ =\n        this.element_\n          .getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)[0];\n      if (this.itemsContainer_ !== null && this.itemsContainer_ !== undefined) {\n        componentHandler.upgradeElement(this.itemsContainer_);\n      }\n\n      this.getHasFields();\n\n      this.element_.FieloForm.save_ = this.submitForm.bind(this);\n\n      this.form_.clear_ = this.clear_.bind(this);\n\n      this.invoiceElements_ = $(\n        this.element_\n          .getElementsByClassName(this.CssClasses_.ELEMENT)\n      ).not(\n        this.itemsContainer_ !== null &&\n          this.itemsContainer_ !== undefined ?\n          this.itemsContainer_.getElementsByClassName(\n            this.CssClasses_.ELEMENT) :\n          null\n      );\n\n      this.fields_ = Object.keys(this.getValues_());\n\n      this.elements_ = [];\n      [].forEach.call(\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER),\n        function(container) {\n          componentHandler.upgradeElement(container);\n          this.elements_[container.FieloFormElement.get('fieldName')] =\n            container;\n        },\n        this\n      );\n\n      this.form_.save_ = this.submitForm.bind(this);\n\n      if (this.openForm_.length > 0) {\n        var Id = this.openForm_[1];\n        this.memberField_.FieloFormElement.set('value', Id);\n        $(this.element_).modal('show');\n      }\n      this.invoiceAmount_ =\n        this.element_.querySelector('.' + this.CssClasses_.INVOICE_AMOUNT);\n\n      if (this.keepItems_ === null || this.keepItems_ === undefined) {\n        this.keepItems_ = false;\n      }\n\n      this.addProductsBtn_ = this.element_.getElementsByClassName(\n        this.CssClasses_.ADD_PRODUCTS)[0];\n      // Method to disable any action when no member is given\n      this.addProductsBtn_.addEventListener('click',\n        this.verifyMember_.bind(this));\n      // Method to refresh recend records from the add rewards modal\n      this.addProductsBtn_.addEventListener('click',\n        this.reloadproductRecent_.bind(this));\n\n      this.cancelBtn_ = this.element_.getElementsByClassName(\n        this.CssClasses_.CANCEL)[0];\n      // Make filled fields persistent\n      this.cancelBtn_.addEventListener('click',\n        this.resetKeepItems.bind(this));\n\n      this.newProductBtn = this.element_.getElementsByClassName(\n        this.CssClasses_.NEW)[0];\n      // Method to disable any action when no member is given\n      this.newProductBtn.addEventListener('click',\n        this.verifyMember_.bind(this));\n      this.newProductBtn.addEventListener('click',\n        this.initNewItem.bind(this));\n\n      this.productForm_ =\n        document.getElementsByClassName(this.CssClasses_.PRODUCT_FORM)[0];\n      if (this.productForm_ !== null && this.productForm_ !== undefined) {\n        this.productFormAddBtn_ =\n          this.productForm_.getElementsByClassName(\n            this.CssClasses_.PRODUCT_ADD)[0];\n        // Add selected rewards to basket\n        this.productFormAddBtn_.addEventListener('click',\n          this.updateProductBasket.bind(this));\n\n        this.productFormSearchBtn_ =\n          this.productForm_.getElementsByClassName(\n            this.CssClasses_.PRODUCT_SEARCH)[0];\n        // Executes the reward search based on modal filters\n        this.productFormSearchBtn_.addEventListener('click',\n          this.searchRecords_.bind(this));\n\n        this.cancelProductsAddBtn_ = document.getElementsByClassName(\n          this.CssClasses_.PRODUCT_CANCEL)[0];\n        this.productRecent_ = document.getElementById(\n          this.Constant_.PRODUCT_RECENT);\n        // Unmark selected rows in the rewards modal\n        this.cancelProductsAddBtn_.addEventListener('click',\n          this.productRecent_.FieloRecentRecords.uncheckAll.bind(\n            this.productRecent_.FieloRecentRecords));\n      }\n      // Add Listeners to items fields on show.\n      $(this.element_).on('shown.aljs.modal', function() {\n        var _this = document.getElementsByClassName(\n          'fielosf-invoice-form')[0];\n        _this.FieloFormInvoice.getActiveProgram();\n      });\n      $(this.element_).on('select', function() {\n        var _this = document.getElementsByClassName(\n        'fielosf-invoice-form')[0];\n        _this.FieloFormInvoice.getActiveProgram();\n      });\n      this.multiFileUploader_ = this.element_.getElementsByClassName(\n        this.CssClasses_.FILE_UPLOADER\n        )[0];\n      this.newFileBtn_ =\n        this.multiFileUploader_.getElementsByClassName(\n          this.CssClasses_.NEW_FILE_BUTTON\n          )[0];\n      this.newFileBtn_.addEventListener(\n        'click',\n        this.verifyMember_.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloFormInvoice,\n    classAsString: 'FieloFormInvoice',\n    cssClass: 'fielosf-invoice-form',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  var FieloFormInvoiceApproval = function FieloFormInvoiceApproval(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloFormInvoiceApproval = FieloFormInvoiceApproval;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloFormInvoiceApproval.prototype.Constant_ = {\n    SAVE_CONTROLLER: 'FieloPRP.FormApprovalController.save',\n    COMMENTS: 'FieloPRP__Comments__c',\n    REJECT_REASON: 'FieloPRP__RejectReason__c',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloFormInvoiceApproval.prototype.CssClasses_ = {\n    SAVE: 'slds-form-approval__save'\n\n  };\n\n  FieloFormInvoiceApproval.prototype.endRetrieve = function() {\n    if (this.form_.parameters_) {\n      if (this.form_.parameters_.type) {\n        if (this.form_.parameters_.type === 'reject') {\n          $(this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]'))\n            .toggle(true);\n          this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]').required_ = true;\n        } else {\n          $(this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]'))\n            .toggle(false);\n          this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]').required_ = false;\n        }\n      }\n    }\n  };\n\n  FieloFormInvoiceApproval.prototype.save = function() {\n    fielo.util.spinner.FieloSpinner.show();\n    if (this.form_.parameters_) {\n      if (this.form_.parameters_.type) {\n        this.action = this.form_.parameters_.type;\n      }\n    }\n\n    this.formValues = {};\n    this.nullFields = [];\n    this.formValues.Id =\n      this.recordId;\n    // get values based on action\n    this.formValues[this.Constant_.COMMENTS] =\n      this.element_\n        .querySelector('[data-field-name=\"' +\n          this.Constant_.COMMENTS + '\"]')\n        .FieloFormElement\n        .get('value');\n\n    if (this.action === 'reject') {\n      this.formValues[this.Constant_.REJECT_REASON] =\n        this.element_\n          .querySelector('[data-field-name=\"' +\n            this.Constant_.REJECT_REASON + '\"]')\n          .FieloFormElement\n          .get('value');\n    } else {\n      this.formValues[this.Constant_.REJECT_REASON] = null;\n    }\n\n    if (this.formValues[this.Constant_.COMMENTS] === null) {\n      this.nullFields.push(this.Constant_.COMMENTS);\n    }\n\n    if (this.formValues[this.Constant_.REJECT_REASON] === null) {\n      this.nullFields.push(this.Constant_.REJECT_REASON);\n    }\n\n    try {\n      if (this.action !== 'reject' || this.form_.checkRequiredPassOk_()) {\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.SAVE_CONTROLLER,\n          this.formValues,\n          this.action,\n          this.nullFields,\n          this.form_.processRemoteActionResult_.bind(this.form_),\n          {\n            escape: false\n          }\n        );\n      } else {\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloFormInvoiceApproval.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.form_.endRetrieve = this.endRetrieve.bind(this);\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.saveBtn_ =\n        this.element_\n          .querySelector('.' + this.CssClasses_.SAVE);\n      this.saveBtn_.addEventListener('click',\n        this.save.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloFormInvoiceApproval,\n    classAsString: 'FieloFormInvoiceApproval',\n    cssClass: 'fielosf-invoice-approval',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  var FieloFormInvoiceApprover = function FieloFormInvoiceApprover(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloFormInvoiceApprover = FieloFormInvoiceApprover;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloFormInvoiceApprover.prototype.Constant_ = {\n    SAVE_CONTROLLER: 'FieloPRP.FormSubmitForApprovalController.save',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloFormInvoiceApprover.prototype.CssClasses_ = {\n    SAVE: 'slds-form-approver__save'\n\n  };\n\n  FieloFormInvoiceApprover.prototype.save = function() {\n    fielo.util.spinner.FieloSpinner.show();\n\n    this.formValues = {};\n    this.nullFields = [];\n    this.formValues.Id =\n      this.recordId;\n    // get values based on action\n    this.formValues.ApproverId =\n      this.element_\n        .querySelector('[data-field-name=\"approver\"]')\n        .FieloFormElement\n        .get('value');\n    try {\n      if (this.form_.checkRequiredPassOk_()) {\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.SAVE_CONTROLLER,\n          this.formValues,\n          this.form_.processRemoteActionResult_.bind(this.form_),\n          {\n            escape: false\n          }\n        );\n      } else {\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloFormInvoiceApprover.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.saveBtn_ =\n        this.element_\n          .querySelector('.' + this.CssClasses_.SAVE);\n      this.saveBtn_.addEventListener('click',\n        this.save.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloFormInvoiceApprover,\n    classAsString: 'FieloFormInvoiceApprover',\n    cssClass: 'fielosf-invoice-approver',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  var FieloSubmitForApproval = function FieloSubmitForApproval(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloSubmitForApproval = FieloSubmitForApproval;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloSubmitForApproval.prototype.Constant_ = {\n    SUBMIT_CONTROLLER:\n      'FieloPRP.FormSubmitForApprovalController.submitForApproval',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloSubmitForApproval.prototype.CssClasses_ = {\n    FORM_APPROVER: 'fielosf-invoice-approver'\n\n  };\n\n  FieloSubmitForApproval.prototype.submit = function() {\n    fielo.util.spinner.FieloSpinner.show();\n    this.record = {};\n    this.record.Id =\n      this.recordId;\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        this.Constant_.SUBMIT_CONTROLLER,\n        this.record,\n        this.submitCallback.bind(this),\n        {\n          escape: false\n        }\n      );\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  FieloSubmitForApproval.prototype.submitCallback = function(result) {\n    this.formApprover = document\n      .querySelector('.' + this.CssClasses_.FORM_APPROVER);\n    if (result.choseApproverFirst) {\n      if (this.formApprover) {\n        $(this.formApprover).modal('show');\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } else if (result.response) {\n      if (this.formApprover) {\n        if (this.formApprover.FieloFormInvoiceApprover) {\n          if (this.formApprover.FieloFormInvoiceApprover.form_) {\n            var notify = fielo.util.notify.create();\n            notify\n              .FieloNotify\n              .addMessages([result.response.messages[0].summary]);\n            notify\n              .FieloNotify\n              .setTheme(result.response.messages[0].severity.toLowerCase());\n            notify\n              .FieloNotify.show();\n            fielo.util.spinner.FieloSpinner.hide();\n            if (result\n              .response\n              .messages[0]\n              .severity.toLowerCase() !== 'error') {\n              location.reload();\n            }\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloSubmitForApproval.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.element_.addEventListener('click',\n        this.submit.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloSubmitForApproval,\n    classAsString: 'FieloSubmitForApproval',\n    cssClass: 'fielosf-invoice-submit-for-approval',\n    widget: true\n  });\n})();\n\n"]}