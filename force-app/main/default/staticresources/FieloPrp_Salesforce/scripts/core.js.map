{"version":3,"sources":["programSelector.js","invoiceItems.js","multiFileUploader.js","formInvoice.js","formApproval.js","formApprover.js","submitForApproval.js"],"names":["FieloProgramSelectorPRP","element","this","element_","init","window","prototype","Constant_","PROGRAM","PROGRAM_PLT","MEMBER","CssClasses_","PAGINATOR","RECENT","onChange","filter","getProgramId_","forEach","call","programActions_","action","FieloButton","setParameter","programId_","field_","Visualforce","remoting","Manager","invokeAction","escape","e","console","log","fielo","util","spinner","FieloSpinner","hide","listOfPaginators_","paginator","$","closest","is","FieloPaginator","setFilters","setPage","getRecords","listOfMemberFields_","memberField","getAttribute","includes","oldProgramId_","setAttribute","replace","FieloFormElement","callback","get","componentHandler","upgradeElement","fieloProgramSelectorPRP","bind","document","getElementsByClassName","querySelectorAll","find","register","constructor","classAsString","cssClass","widget","FieloInvoiceItems","DATA_UPGRADED","DATA_CONTROLLER","DATA_FIELD_NAME","OBJECT_TYPE","ITEM","CONTAINER","DELETE","NEW","FORM_ELEMENT","PRODUCT_QTY","PRODUCT_UNIT_PRICE","PRODUCT_TOTAL_PRICE","PRODUCT_NAME","PILL_REMOVE","initItem_","invoiceItem","deleteBtn_","addEventListener","deleteItem_","refreshTotalPrice_","invoiceFormLst","length","invoiceForm","FieloFormInvoice","refreshTotal","invoiceItems_","remove","newinvoiceItem_","model_","cloneNode","container_","appendChild","position","removeAttribute","id","String","dataController","sObjectList","item","sObject","sObjectValue","Id","push","set","clear","items","click","newBtn_","FieloMultiFileUploaderPRP","MAX_FILE_SIZE","CHUNK_SIZE","UPLOAD_CONTROLLER","DELETE_FILES_CONTROLLER","PILL","CARD_BODY","PILL_CONTAINER","PILL_MODEL","PILL_LABEL","initPillsDocument","filePills_","handleFile","removePillbtn_","removePill","form_","FieloForm","event","deleteList","undefined","currentPillContainer","srcElement","currentPillLabel","fileIndex","newFile","fileList","deleteFilesFromServer","self","filesToDelete","slice","uploadFile","parentId","clearPills","nonModelPills","not","removeBtn","pill","ready","initPill","addEmptyFilePill","fakeFile","cardBody_","removeClass","Name","innerHTML","Title","addFilePill","file","name","Object","keys","input_","target","files","size","toString","message","BackEndJSSettings","LABELS","MaxFileSize","toFixed","throwMessage","value","FieloMultiFileUploaderPRP_handleFile","filePtr","fr","FileReader","onloadend","fileContents","btoa","result","upload","readAsBinaryString","ChooseFileFirst","redirectToParent","fromPos","toPos","Math","min","uploadChunk","attachId","chunk","substring","encodeURIComponent","type","a","modalList","modal","InvoiceSavedSuccess","redirectURL","location","notify","create","FieloNotify","addMessages","setTheme","show","SAVE_CONTROLLER","RETRIEVE_CONTROLLER","GET_PROGRAM_CONTROLLER","PRODUCT_RECENT","DATA_RECORD_ID","OBJECT_NAME","FIELDS","FIELD_NAME","REDIRECT","PRODUCT_FIELD","ITEMS_CONTAINER","SAVE","CANCEL","ELEMENT","INVOICE_ITEM","ADD_PRODUCTS","PRODUCT_FORM","PRODUCT_ADD","PRODUCT_CANCEL","PRODUCT_SEARCH","RECENT_RECORDS","RECENT_CHECKBOX","LOOKUP_PILL","SHOW","INVOICE_AMOUNT","TOTAL_POINTS","FILE_UPLOADER","NEW_FILE_BUTTON","BUTTON_ICON","INPUT","submitForm","saveRecord_","memberId","querySelector","getHasDetails","save_","memberValue","hasDetails","nullFields","formValues","getValues_","FieloPRP__Date__c","itemValues","itemsContainer_","FieloPRP__Amount__c","saveCallback_","warn","MemberMustBeChosen","processRemoteActionResult_","keepItems_","deleteFilesList","hasAttachments","hasDeletedAttachments","invoiceId","elements_","invoiceValues","invoiceElements_","property","setValues_","clear_","disableMemberValidation","setProductsFilter_","productRecent_","getElementById","productPaginator_","FieloRecentRecords","getPaginator","productFilter","IsActive","reloadproductRecent_","resetSearch_","recentPaginator_","searchFields_","productForm_","newFilters_","filterField_","getFilters","searchRecords_","parseFloat","resetKeepItems","showItems_","memberField_","addClass","elementFields","field","refreshTotalPriceProxy_","productField","keypress","protectProductField_","blur","verifyMember_","initNewItem","invoiceItems","lastInvoiceItem","updateProductBasket","recentProductRecords_","productsInfo_","recordCheckbox","checked","getEmptyInvoiceItems","productId","availableSlots","pop","invoiceContainerItems_","activeItem","uncheckAll","product","hasAmountFields","itemTotal","invoiceTotalValue","Number","isNaN","invoiceTotal_","row","updatedField","unitPriceFieldElement","quantityFieldElement","totalPriceFieldElement","unitPriceField","quantityField","totalPriceField","stopPropagation","preventDefault","focus","memberNotNull","hasClass","validateHasDetails","currentEvent_","callbackHandler","FieloFormInvoice_refreshPoints","setParameters_","parameters_","hasOwnProperty","retrieveHandler_","hash","indexOf","fields_","values","__c","key","split","parseDateFromSF","FieloPRP__InvoiceItems__r","itemElement","Attachments","attachment","multiFileUploader_","ContentDocumentLinks","ContentDocument","endRetrieve","disableMemberEdit_","HAS_ERROR","retrieve_","source","getParameters","isEditing","recordId_","retrieveRecordId","cloneId","fields","join","itemFields","objectName","retrieveController_","checkHasDetails","closeProducsModalIfOpened_","actionResult","InvoiceDetailInsertDisabled","hasDetailsCheck","hasDetailsFormElement","invoiceContainerItems","FieloPRP__HasDetails__c","FieloPRP__Member__c","hideAmount_","amountFormElem","getActiveProgram","getActiveProgramCallback","program","FieloPRP__RequestInvoiceProducts__c","getHasFields","td","retrieveProxy_","FieloFormInvoice_retrieve","openForm_","container","invoiceAmount_","addProductsBtn_","cancelBtn_","newProductBtn","productFormAddBtn_","productFormSearchBtn_","cancelProductsAddBtn_","on","_this","newFileBtn_","helper","FieloFormInvoiceApproval","COMMENTS","REJECT_REASON","RECORD_ID","toggle","required_","save","recordId","checkRequiredPassOk_","saveBtn_","FieloFormInvoiceApprover","ApproverId","FieloSubmitForApproval","SUBMIT_CONTROLLER","FORM_APPROVER","submit","record","submitCallback","formApprover","choseApproverFirst","response"],"mappings":"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","file":"core.js","sourcesContent":["(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloProgramSelectorPRP.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloProgramSelectorPRP = function FieloProgramSelectorPRP(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloProgramSelectorPRP = FieloProgramSelectorPRP;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloProgramSelectorPRP.prototype.Constant_ = {\n    PROGRAM: 'FieloPRP__Program__c',\n    PROGRAM_PLT: 'FieloPLT__Program__c',\n    MEMBER: 'FieloPRP__Member__c'\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas por este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloProgramSelectorPRP.prototype.CssClasses_ = {\n    PAGINATOR: 'fielosf-paginator',\n    RECENT: 'fielosf-recent-records'\n  };\n\n  FieloProgramSelectorPRP.prototype.onChange = function() {\n    var filter = {};\n    this.getProgramId_();\n    [].forEach.call(this.programActions_, function(action) {\n      action.FieloButton.setParameter(this.Constant_.PROGRAM, this.programId_);\n    }, this);\n\n    filter[this.field_] = this.programId_;\n\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        'FieloPRP.BackEndProgramSelectorController.selectProgram',\n        filter[this.field_],\n        function() {},\n        {escape: false}\n      );\n    } catch (e) {\n      // Ya está todo listo. Oculto el spinner\n      console.log(e);\n      fielo.util.spinner.FieloSpinner.hide();\n    }\n\n    // disparo los paginadores\n    [].forEach.call(this.listOfPaginators_, function(paginator) {\n      // Seteo el paginador\n      if ($(paginator).closest('.' + this.CssClasses_.RECENT).is(':visible')) {\n        paginator.FieloPaginator.setFilters(filter);\n        paginator.FieloPaginator.setPage();\n        paginator.FieloPaginator.getRecords();\n      }\n    }, this);\n\n    // Update the member's where condition\n    [].forEach.call(this.listOfMemberFields_, function(memberField) {\n      if (memberField.getAttribute('data-where')\n        .includes(this.Constant_.PROGRAM_PLT)) {\n        if (this.oldProgramId_) {\n          if (this.oldProgramId_ !== this.programId_) {\n            memberField.setAttribute('data-where',\n              memberField.getAttribute('data-where').replace(\n                this.oldProgramId_,\n                this.programId_\n              )\n            );\n            if (memberField.FieloFormElement) {\n              memberField.FieloFormElement.init();\n            }\n          }\n        }\n      }\n    }, this);\n\n    this.callback();\n  };\n\n  /**\n   * Guarda el programId\n   */\n  FieloProgramSelectorPRP.prototype.getProgramId_ = function() {\n    this.oldProgramId_ = this.programId_;\n    this.programId_ = this.element_.FieloFormElement.get('value');\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloProgramSelectorPRP.prototype.init = function() {\n    if (this.element_) {\n      componentHandler.upgradeElement(this.element_);\n      window.fieloProgramSelectorPRP = this.onChange.bind(this);\n      this.field_ = 'FieloPRP__Member__r.FieloPLT__Program__c';\n      this.getProgramId_();\n      // para evitar el undefined\n      this.callback = function() {};\n\n      // Registro los paginadores de este filtro\n      this.listOfPaginators_ =\n        document.getElementsByClassName(this.CssClasses_.PAGINATOR);\n\n      this.listOfMemberFields_ =\n        document.querySelectorAll('[data-field-name=' +\n          this.Constant_.MEMBER + ']');\n\n      // Registro los input hidden dependientes del program\n      this.programActions_ = document.querySelectorAll(\n        '.slds-button[data-parameters*=\"' + this.Constant_.PROGRAM + '\"]'\n      );\n\n      // if programId was not set get from the selected program.\n      if (!this.programId_) {\n        this.programId_ = $(this.element_)\n          .find('.slds-is-selected')[0]\n            .getAttribute('data-value');\n      }\n    }\n  };\n\n  componentHandler.register({\n    constructor: FieloProgramSelectorPRP,\n    classAsString: 'FieloProgramSelectorPRP',\n    cssClass: 'fielosf-program-selector-prp',\n    widget: true\n  });\n})();\n","(function() {\n  'use strict';\n\n  /**\n   * @description Controlador para el formulario FieloInvoiceItems.\n   * Permite el envío del formulario\n   * Implementa los patrones de diseño definidos por MDL en\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\n   *\n   * @version 1\n   * @author Hugo Gómez Mac Gregor <hugo.gomez@fielo.com>\n   * @param {HTMLElement} element - Elemento que será mejorado.\n   * @constructor\n   */\n  var FieloInvoiceItems = function FieloInvoiceItems(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloInvoiceItems = FieloInvoiceItems;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloInvoiceItems.prototype.Constant_ = {\n    DATA_UPGRADED: 'data-upgraded',\n    DATA_CONTROLLER: 'data-controller-element',\n    DATA_FIELD_NAME: 'data-field-name',\n    OBJECT_TYPE: 'FieloPRP__InvoiceItem__c'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloInvoiceItems.prototype.CssClasses_ = {\n    ITEM: 'fielosf-invoice__item',\n    CONTAINER: 'fielosf-invoice__container',\n    DELETE: 'slds-button--delete',\n    NEW: 'slds-button--new',\n    FORM_ELEMENT: 'slds-form-element',\n    PRODUCT_QTY: 'fielosf-product_qty',\n    PRODUCT_UNIT_PRICE: 'fielosf-product_unit-price',\n    PRODUCT_TOTAL_PRICE: 'fielosf-product_total-price',\n    PRODUCT_NAME: 'fielosf-product_name',\n    PILL_REMOVE: 'slds-pill__remove'\n\n  };\n\n  FieloInvoiceItems.prototype.initItem_ = function(invoiceItem) {\n    invoiceItem.deleteBtn_ =\n      invoiceItem.getElementsByClassName(this.CssClasses_.DELETE)[0];\n    invoiceItem.deleteBtn_.addEventListener(\n      'click',\n      this.deleteItem_.bind(this, invoiceItem)\n    );\n  };\n\n  FieloInvoiceItems.prototype.refreshTotalPrice_ = function() {\n    var invoiceFormLst = $(this.element_).closest(\n        '.fielosf-invoice-form');\n    if (invoiceFormLst.length > 0) {\n      var invoiceForm = invoiceFormLst[0].FieloFormInvoice;\n      invoiceForm.refreshTotal();\n    }\n  };\n\n  FieloInvoiceItems.prototype.deleteItem_ = function(invoiceItem) {\n    if (this.invoiceItems_.length > 1) {\n      invoiceItem.remove();\n      this.refreshTotalPrice_();\n    }\n  };\n\n  FieloInvoiceItems.prototype.newinvoiceItem_ = function() {\n    var invoiceItem = this.model_.cloneNode(true);\n    this.container_.appendChild(invoiceItem);\n    [].forEach.call(\n      invoiceItem.querySelectorAll('[' + this.Constant_.DATA_UPGRADED + ']'),\n      function(element, position) {\n        element.removeAttribute(this.Constant_.DATA_UPGRADED);\n        element.id = String(element.id + '-' + this.invoiceItems_.length);\n        var dataController = element\n          .getAttribute(this.Constant_.DATA_CONTROLLER) || null;\n        if (dataController && position !== 0) {\n          element.setAttribute(\n            this.Constant_.DATA_CONTROLLER,\n            String(dataController + '-' + this.invoiceItems_.length)\n          );\n        }\n        componentHandler.upgradeElement(element);\n      },\n        this\n    );\n    this.initItem_(invoiceItem);\n  };\n\n  /**\n   *\n   * Getter y Setters\n   *\n   */\n\n  /**\n   * Retorna la lista de items\n   * @return {Array | Object} - Lista de objetos (sObjects)\n   */\n  FieloInvoiceItems.prototype.get = function() {\n    var sObjectList = [];\n    [].forEach.call(this.invoiceItems_, function(item) {\n      var sObject = {};\n      [].forEach.call(item.getElementsByClassName(this\n          .CssClasses_.FORM_ELEMENT), function(element) {\n        var sObjectValue = element.FieloFormElement.get('value');\n        sObject[element.getAttribute(this.Constant_.DATA_FIELD_NAME)] =\n            sObjectValue;\n      }, this);\n      if (item.getAttribute('data-record-id') !== '') {\n        sObject.Id = item.getAttribute('data-record-id');\n      }\n      sObjectList.push(sObject);\n    }, this);\n    return sObjectList;\n  };\n\n  FieloInvoiceItems.prototype.set = function() {\n    return console.log('recibe lista de objetos');\n  };\n\n  FieloInvoiceItems.prototype.clear = function() {\n    this.newinvoiceItem_();\n    var items = this.element_.getElementsByClassName(this.CssClasses_.DELETE);\n    while (items.length > 1) {\n      items[0].click();\n    }\n    $(this.element_).find($('[data-field-name=\"FieloPRP__UnitPrice__c\"]')\n      )[0].FieloFormElement.set('value', '');\n    $(this.element_).find($('[data-field-name=\"FieloPRP__Quantity__c\"]')\n          )[0].FieloFormElement.set('value', 0);\n    $(this.element_).find($('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\n      )[0].FieloFormElement.set('value', '');\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloInvoiceItems.prototype.init = function() {\n    if (this.element_) {\n      this.container_ =\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER)[0];\n      this.invoiceItems_ =\n        this.element_.getElementsByClassName(this.CssClasses_.ITEM);\n      this.model_ = this.invoiceItems_[0].cloneNode(true);\n      this.newBtn_ =\n        this.element_.getElementsByClassName(this.CssClasses_.NEW)[0];\n      if (this.newBtn_) {\n        this.newBtn_\n          .addEventListener('click', this.newinvoiceItem_.bind(this));\n      }\n      [].forEach.call(this.invoiceItems_, this.initItem_.bind(this));\n    }\n  };\n\n  fielo.util.register({\n    constructor: FieloInvoiceItems,\n    classAsString: 'FieloInvoiceItems',\n    cssClass: 'fielosf-invoice-items',\n    widget: true\n  });\n})();\n\n","(function() {\r\n  'use strict';\r\n\r\n  /**\r\n   * @description FieloMultiFileUploaderPRP controller.\r\n   * Enables multi file upload\r\n   * Implements the design patterns defined by MDL in\r\n   * {@link https://github.com/jasonmayes/mdl-component-design-pattern}\r\n   *\r\n   * @version 1\r\n   * @author Tiago Bittencourt Leal <tiago.leal@fielo.com>\r\n   * @param {HTMLElement} element - extended element.\r\n   * @constructor\r\n   */\r\n  var FieloMultiFileUploaderPRP = function FieloMultiFileUploaderPRP(element) {\r\n    this.element_ = element;\r\n\r\n    // Initialize instance.\r\n    this.init();\r\n  };\r\n  window.FieloMultiFileUploaderPRP = FieloMultiFileUploaderPRP;\r\n\r\n  /**\r\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\r\n   * @enum {string | number}\r\n   * @private\r\n   */\r\n  FieloMultiFileUploaderPRP.prototype.Constant_ = {\r\n    MAX_FILE_SIZE: 4350000,\r\n    CHUNK_SIZE: 950000,\r\n    UPLOAD_CONTROLLER: 'FieloPRP.MultiFileUploader.saveTheChunk',\r\n    DELETE_FILES_CONTROLLER: 'FieloPRP.MultiFileUploader.deleteFiles'\r\n  };\r\n\r\n  /**\r\n   * Guarda strings para nombres de clases definidas por este componente que\r\n   * son usadas por JavaScript.\r\n   * Esto nos permite cambiarlos solo en un lugar\r\n   * @enum {string}\r\n   * @private\r\n   */\r\n  FieloMultiFileUploaderPRP.prototype.CssClasses_ = {\r\n    PAGINATOR: 'fielosf-paginator',\r\n    PILL: 'slds-pill',\r\n    CARD_BODY: 'slds-card__body',\r\n    PILL_CONTAINER: 'slds-card__body--inner',\r\n    PILL_MODEL: 'slds-pill__model',\r\n    PILL_LABEL: 'slds-pill__label',\r\n    PILL_REMOVE: 'slds-pill__remove'\r\n  };\r\n\r\n  /**\r\n   * Inicializa el elemento\r\n   */\r\n  FieloMultiFileUploaderPRP.prototype.init = function() {\r\n    if (this.element_) {\r\n      this.initPillsDocument();\r\n      this.filePills_ =\r\n        this.element_.getElementsByClassName(this.CssClasses_.PILL_MODEL);\r\n      $('#file-upload-input-01')[0].addEventListener(\r\n        'change', this.handleFile.bind(this));\r\n      this.removePillbtn_ =\r\n        this.element_.getElementsByClassName(\r\n          this.CssClasses_.PILL_REMOVE)[0];\r\n      this.removePillbtn_.addEventListener(\r\n        'click',\r\n        this.removePill.bind(this));\r\n\r\n      this.form_ = this.element_.FieloForm;\r\n\r\n      componentHandler.upgradeElement(this.element_);\r\n    }\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.removePill = function(event) {\r\n    if (this.deleteList === null || this.deleteList === undefined) {\r\n      this.deleteList = [];\r\n    }\r\n    this.currentPillContainer = $(event.srcElement).closest(\r\n      '.' + this.CssClasses_.PILL_CONTAINER)[0];\r\n    this.currentPillLabel = $(this.currentPillContainer).find(\r\n      '.' + this.CssClasses_.PILL_LABEL)[0];\r\n    var fileIndex = this.currentPillLabel\r\n      .getAttribute('data-record-id');\r\n    // Remove file from memory\r\n    this.newFile = false;\r\n    if (this.fileList) {\r\n      if (this.fileList[fileIndex]) {\r\n        delete this.fileList[fileIndex];\r\n        this.newFile = true;\r\n      }\r\n    }\r\n    // Remove file pill representation\r\n    this.currentPillContainer.remove();\r\n    if (!this.newFile) {\r\n      this.deleteList.push(fileIndex);\r\n    }\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.deleteFilesFromServer = function() {\r\n    if (this.deleteList) {\r\n      if (this.deleteList.length > 0) {\r\n        var self = this;\r\n        var filesToDelete = this.deleteList.slice();\r\n        this.deleteList = null;\r\n        Visualforce.remoting.Manager.invokeAction(\r\n          this.Constant_.DELETE_FILES_CONTROLLER,\r\n          filesToDelete,\r\n          this.uploadFile.bind(this, self.parentId),\r\n          {escape: true}\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.clearPills = function() {\r\n    this.nonModelPills = $(\r\n      this.element_\r\n        .getElementsByClassName(this.CssClasses_.PILL_CONTAINER)\r\n    ).not(\r\n      this.element_\r\n        .getElementsByClassName(this.CssClasses_.PILL_MODEL)\r\n    );\r\n    var removeBtn;\r\n    [].forEach.call(this.nonModelPills, function(pill) {\r\n      removeBtn = pill.getElementsByClassName(\r\n        this.CssClasses_.PILL_REMOVE)[0];\r\n      removeBtn.click();\r\n    },\r\n      this\r\n    );\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.initPillsDocument = function() {\r\n    $(document).ready(function() {\r\n      $('body').pill();\r\n    });\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.initPill = function(pill) {\r\n    this.removePillbtn_ =\r\n      $(pill).find('.' +\r\n        this.CssClasses_.PILL_REMOVE)[0];\r\n    this.removePillbtn_.addEventListener(\r\n      'click',\r\n      this.removePill.bind(this));\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.addEmptyFilePill = function(fakeFile) {\r\n    this.currentPillContainer = this.filePills_[0].cloneNode(true);\r\n    this.cardBody_ = this.element_.getElementsByClassName(\r\n      this.CssClasses_.CARD_BODY)[0];\r\n    this.cardBody_.appendChild(this.currentPillContainer);\r\n    $(this.currentPillContainer).removeClass('slds-hidden');\r\n    $(this.currentPillContainer).removeClass('slds-is-collapsed');\r\n    $(this.currentPillContainer).removeClass('slds-pill__model');\r\n    this.currentPillLabel =\r\n      this.currentPillContainer.getElementsByClassName(\r\n        this.CssClasses_.PILL_LABEL)[0];\r\n    if (fakeFile.Name) {\r\n      this.currentPillLabel.innerHTML = fakeFile.Name;\r\n      this.currentPillLabel.setAttribute('title', fakeFile.Name);\r\n    } else {\r\n      this.currentPillLabel.innerHTML = fakeFile.Title;\r\n      this.currentPillLabel.setAttribute('title', fakeFile.Title);\r\n    }\r\n    this.currentPillLabel.setAttribute('data-record-id',\r\n      fakeFile.Id);\r\n    this.initPill(this.currentPillContainer);\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.addFilePill = function(file) {\r\n    this.currentPillContainer = this.filePills_[0].cloneNode(true);\r\n    this.cardBody_ = this.element_.getElementsByClassName(\r\n      this.CssClasses_.CARD_BODY)[0];\r\n    this.cardBody_.appendChild(this.currentPillContainer);\r\n    $(this.currentPillContainer).removeClass('slds-hidden');\r\n    $(this.currentPillContainer).removeClass('slds-is-collapsed');\r\n    $(this.currentPillContainer).removeClass('slds-pill__model');\r\n    this.currentPillLabel =\r\n      this.currentPillContainer.getElementsByClassName(\r\n        this.CssClasses_.PILL_LABEL)[0];\r\n    this.currentPillLabel.innerHTML = file.name;\r\n    this.currentPillLabel.setAttribute('title', file.name);\r\n    this.currentPillLabel.setAttribute('data-record-id',\r\n      Object.keys(this.fileList).length - 1);\r\n    this.initPill(this.currentPillContainer);\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.handleFile = function(event) {\r\n    this.input_ = event.target;\r\n    if (this.fileList === null || this.fileList === undefined) {\r\n      this.fileList = {};\r\n    }\r\n    [].forEach.call(this.input_.files, function(file) {\r\n      try {\r\n        if (file.size < this.Constant_.MAX_FILE_SIZE) {\r\n          this.fileList[Object.keys(this.fileList).length.toString()] = file;\r\n          this.addFilePill(file);\r\n        } else {\r\n          var message = BackEndJSSettings.LABELS.MaxFileSize.replace('{0}',\r\n            (this.Constant_.MAX_FILE_SIZE / 1024 / 1024).toFixed(2).toString());\r\n          this.throwMessage(message, 'error');\r\n          this.input_.value = null;\r\n        }\r\n      } catch (e) {\r\n        console.log('error' + e);\r\n      }\r\n    },\r\n      this\r\n    );\r\n    this.input_.value = null;\r\n  };\r\n\r\n  window.FieloMultiFileUploaderPRP_handleFile = // eslint-disable-line camelcase\r\n    FieloMultiFileUploaderPRP.prototype.handleFile; // eslint-disable-line camelcase\r\n\r\n  FieloMultiFileUploaderPRP.prototype.uploadFile = function(parentId) {\r\n    this.parentId = parentId;\r\n    if (this.deleteList) {\r\n      this.deleteFilesFromServer();\r\n    } else if (this.fileList) {\r\n      var filePtr = Object.keys(this.fileList)[0];\r\n      var file = this.fileList[filePtr];\r\n      delete this.fileList[filePtr];\r\n      var self = this;\r\n      console.log(file);\r\n      if (file) {\r\n        var fr = new FileReader();\r\n        fr.onloadend = function() {\r\n          var fileContents = window.btoa(fr.result);\r\n          self.upload(parentId, file, fileContents);\r\n        };\r\n        fr.readAsBinaryString(file);\r\n      } else {\r\n        this.throwMessage(BackEndJSSettings.LABELS.ChooseFileFirst,\r\n          'error');\r\n      }\r\n    } else {\r\n      this.redirectToParent(parentId);\r\n    }\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.upload = function(\r\n      parentId, file, fileContents) {\r\n    var fromPos = 0;\r\n    var toPos = Math.min(fileContents.length,\r\n      fromPos + this.Constant_.CHUNK_SIZE);\r\n\r\n    // start with the initial chunk\r\n    this.uploadChunk(parentId, file, fileContents, fromPos, toPos, '');\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.uploadChunk = function(\r\n    parentId, file, fileContents, fromPos, toPos, attachId) {\r\n    var chunk = fileContents.substring(fromPos, toPos);\r\n    var self = this;\r\n    Visualforce.remoting.Manager.invokeAction(\r\n        this.Constant_.UPLOAD_CONTROLLER,\r\n        parentId,\r\n        file.name,\r\n        encodeURIComponent(chunk),\r\n        file.type,\r\n        attachId,\r\n        function(a) {\r\n          attachId = a;\r\n          fromPos = toPos;\r\n          toPos = Math.min(fileContents.length, fromPos +\r\n            self.Constant_.CHUNK_SIZE);\r\n          if (fromPos < toPos) {\r\n            self.uploadChunk(\r\n              parentId, file, fileContents, fromPos, toPos, attachId);\r\n          } else if (self.fileList) {\r\n            if (Object.keys(self.fileList).length > 0) {\r\n              self.uploadFile(parentId);\r\n            } else {\r\n              FieloMultiFileUploaderPRP.prototype\r\n                .redirectToParent.call(self, parentId);\r\n            }\r\n          } else {\r\n            FieloMultiFileUploaderPRP.prototype\r\n              .redirectToParent.call(self, parentId);\r\n          }\r\n        },\r\n        {escape: true}\r\n      );\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.redirectToParent = function(parentId) {\r\n    fielo.util.spinner.FieloSpinner.hide();\r\n    var modalList = document.getElementsByClassName('slds-modal');\r\n    [].forEach.call(modalList, function(modal) {\r\n      try {\r\n        $(modal).modal('dismiss');\r\n      } catch (e) {}\r\n    },\r\n      this\r\n    );\r\n    var result = {message: BackEndJSSettings.LABELS.InvoiceSavedSuccess,\r\n      redirectURL: '/' + parentId};\r\n    this.throwMessage(result.message, 'success');\r\n    location.replace(result.redirectURL);\r\n  };\r\n\r\n  FieloMultiFileUploaderPRP.prototype.throwMessage = function(message, type) {\r\n    var notify = fielo.util.notify.create();\r\n    notify.FieloNotify.addMessages([message]);\r\n    notify.FieloNotify.setTheme(type);\r\n    notify.FieloNotify.show();\r\n  };\r\n\r\n  componentHandler.register({\r\n    constructor: FieloMultiFileUploaderPRP,\r\n    classAsString: 'FieloMultiFileUploaderPRP',\r\n    cssClass: 'fielosf-multi-file-uploader',\r\n    widget: true\r\n  });\r\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  var FieloFormInvoice = function FieloFormInvoice(element) {\r\n    this.element_ = element;\r\n    // Initialize instance.\r\n    this.init();\r\n  };\r\n  window.FieloFormInvoice = FieloFormInvoice;\r\n\r\n  /**\r\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\r\n   * @enum {string | number}\r\n   * @private\r\n   */\r\n  FieloFormInvoice.prototype.Constant_ = {\r\n    SAVE_CONTROLLER: 'FieloPRP.FormInvoiceController.save',\r\n    RETRIEVE_CONTROLLER: 'data-retrieve-controller',\r\n    GET_PROGRAM_CONTROLLER: 'FieloPRP.FormInvoiceController.getActiveProgram',\r\n    MEMBER: 'FieloPRP__Member__c',\r\n    PRODUCT_RECENT: 'recentProductRecords',\r\n    DATA_RECORD_ID: 'data-record-id',\r\n    OBJECT_NAME: 'data-object-name',\r\n    FIELDS: 'data-fields',\r\n    FIELD_NAME: 'data-field-name',\r\n    REDIRECT: 'data-redirect',\r\n    PRODUCT_FIELD: 'data-product-field-name'\r\n\r\n  };\r\n\r\n  /**\r\n   * Guarda strings para nombres de clases definidas poPr este componente que\r\n   * son usadas por JavaScript.\r\n   * Esto nos permite cambiarlos solo en un lugar\r\n   * @enum {string}\r\n   * @private\r\n   */\r\n  FieloFormInvoice.prototype.CssClasses_ = {\r\n    CONTAINER: 'slds-form-element',\r\n    ITEMS_CONTAINER: 'fielosf-invoice-items',\r\n    SAVE: 'slds-form__save',\r\n    CANCEL: 'slds-form__cancel',\r\n    DELETE: 'slds-button--delete',\r\n    NEW: 'slds-button--new',\r\n    ELEMENT: 'slds-form-element',\r\n    INVOICE_ITEM: 'fielosf-invoice__item',\r\n    ADD_PRODUCTS: 'slds-button--addproducts',\r\n    PRODUCT_QTY: 'fielosf-product_qty',\r\n    PRODUCT_UNIT_PRICE: 'fielosf-product_unit-price',\r\n    PRODUCT_TOTAL_PRICE: 'fielosf-product_total-price',\r\n    PRODUCT_NAME: 'fielosf-product_name',\r\n    PRODUCT_FORM: 'fielosf-invoice-form-addproducts',\r\n    PRODUCT_ADD: 'slds-form-product__add',\r\n    PRODUCT_CANCEL: 'slds-form-product__cancel',\r\n    PRODUCT_SEARCH: 'slds-form-product__search',\r\n    RECENT_RECORDS: 'fielosf-recent-records__model',\r\n    RECENT_CHECKBOX: 'fielosf-recent-records-checkbox',\r\n    LOOKUP_PILL: 'slds-pill_container',\r\n    SHOW: 'slds-show',\r\n    INVOICE_AMOUNT: 'fielosf-invoice_amount',\r\n    TOTAL_POINTS: 'fielosf-total_points',\r\n    FILE_UPLOADER: 'fielosf-multi-file-uploader',\r\n    NEW_FILE_BUTTON: 'slds-file-selector__button',\r\n    BUTTON_ICON: 'slds-button__icon',\r\n    PILL_LABEL: 'slds-pill__label',\r\n    INPUT: 'slds-input'\r\n\r\n  };\r\n\r\n  FieloFormInvoice.prototype.submitForm = function() {\r\n    this.saveRecord_ = true;\r\n    var memberId = this.element_\r\n      .querySelector('[data-field-name=\"' + this.Constant_.MEMBER + '\"]')\r\n        .FieloFormElement.get('value');\r\n    this.getHasDetails(memberId);\r\n  };\r\n\r\n  /**\r\n   * Envía el formulario\r\n   */\r\n  FieloFormInvoice.prototype.save_ = function() {\r\n    fielo.util.spinner.FieloSpinner.show();\r\n    var memberValue = this.element_\r\n      .querySelector('[data-field-name=\"' + this.Constant_.MEMBER + '\"]')\r\n        .FieloFormElement.get('value');\r\n    var hasDetails = '';\r\n    var event = '';\r\n    var nullFields = [];\r\n    if (memberValue) {\r\n      hasDetails = this.element_\r\n        .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\r\n          .FieloFormElement.get('value');\r\n      fielo.util.spinner.FieloSpinner.show();\r\n      var formValues = this.getValues_();\r\n      if (formValues.Id === '') {\r\n        delete formValues.Id;\r\n      }\r\n      if (formValues.FieloPRP__Date__c === '' ||\r\n        formValues.FieloPRP__Date__c === null ||\r\n        formValues.FieloPRP__Date__c === undefined) {\r\n        delete formValues.FieloPRP__Date__c;\r\n        nullFields.push('FieloPRP__Date__c');\r\n      }\r\n      var itemValues =\r\n        this.itemsContainer_.FieloInvoiceItems.get();\r\n\r\n      if (hasDetails) {\r\n        if (formValues.FieloPRP__Amount__c !== null &&\r\n            formValues.FieloPRP__Amount__c !== undefined) {\r\n          delete formValues.FieloPRP__Amount__c;\r\n        }\r\n      }\r\n\r\n      try {\r\n        Visualforce.remoting.Manager.invokeAction(\r\n          this.Constant_.SAVE_CONTROLLER,\r\n          formValues,\r\n          hasDetails ? itemValues : null,\r\n          nullFields,\r\n          this.saveCallback_.bind(this),\r\n          {\r\n            escape: false\r\n          }\r\n        );\r\n      } catch (e) {\r\n        console.warn(e);\r\n      }\r\n    } else {\r\n      event = {message: BackEndJSSettings.LABELS.MemberMustBeChosen,\r\n        redirectURL: '#'};\r\n      this.form_.processRemoteActionResult_(null, event);\r\n    }\r\n    this.keepItems_ = false;\r\n  };\r\n\r\n  FieloFormInvoice.prototype.saveCallback_ = function(result, event) {\r\n    var fileList = this.element_\r\n      .getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\r\n        .FieloMultiFileUploaderPRP.fileList;\r\n    var deleteFilesList = this.element_\r\n      .getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\r\n        .FieloMultiFileUploaderPRP.deleteList;\r\n    this.hasAttachments = fileList ?\r\n      Object.keys(fileList).length > 0 :\r\n      false;\r\n    this.hasDeletedAttachments = deleteFilesList ?\r\n      deleteFilesList.length > 0 :\r\n      false;\r\n    if (result.redirectURL === null || result.redirectURL === undefined) {\r\n      this.form_.processRemoteActionResult_(result, event);\r\n    } else if (this.hasAttachments || this.hasDeletedAttachments) {\r\n      var invoiceId = result.redirectURL.substring(1,\r\n        result.redirectURL.length);\r\n      this.element_.getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\r\n        .FieloMultiFileUploaderPRP.uploadFile(invoiceId);\r\n    } else {\r\n      this.form_.processRemoteActionResult_(result, event);\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.getValues_ = function() {\r\n    this.form_.elements_ = [];\r\n    var invoiceValues = {};\r\n    // invoiceValues.sObjectType =\r\n    //  this.form_.element_.getAttribute(this.form_.Constant_.OBJECT_NAME);\r\n\r\n    [].forEach.call(this.invoiceElements_, function(element) {\r\n      if (element.FieloFormElement.get('fieldName') !== '') {\r\n        var property = element.FieloFormElement.get('fieldName');\r\n        if (property) {\r\n          this.form_.elements_[property] = element;\r\n          invoiceValues[property] = element.FieloFormElement.get('value');\r\n        }\r\n      }\r\n    }, this);\r\n    return invoiceValues;\r\n  };\r\n\r\n  FieloFormInvoice.prototype.setValues_ = function() {\r\n    return this.itemsContainer_.FieloInvoiceItems.set();\r\n  };\r\n\r\n  FieloFormInvoice.prototype.clear_ = function() {\r\n    if (!this.keepItems_) {\r\n      this.disableMemberValidation = true;\r\n      [].forEach.call(this.invoiceElements_, function(item) {\r\n        item.FieloFormElement.clear();\r\n      });\r\n      this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)[0]\r\n        .FieloInvoiceItems.clear();\r\n      this.initItem_(\r\n        this.element_.getElementsByClassName(\r\n          this.CssClasses_.ITEMS_CONTAINER)[0]);\r\n      this.element_.getElementsByClassName(this.CssClasses_.FILE_UPLOADER)[0]\r\n        .FieloMultiFileUploaderPRP.clearPills();\r\n      this.disableMemberValidation = false;\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.setProductsFilter_ = function() {\r\n    this.productRecent_ = document.getElementById(\r\n      this.Constant_.PRODUCT_RECENT);\r\n    this.productPaginator_ =\r\n      this.productRecent_.FieloRecentRecords.getPaginator(\r\n        ).FieloPaginator;\r\n    this.productFilter = [];\r\n\r\n    this.productFilter.IsActive = true;\r\n    this.productPaginator_.setFilters(\r\n        this.productFilter);\r\n  };\r\n\r\n  /**\r\n   * Reload Reward Recent Records\r\n   */\r\n  FieloFormInvoice.prototype.reloadproductRecent_ = function() {\r\n    this.keepItems_ = true;\r\n    this.productRecent_ = document.getElementById(\r\n      this.Constant_.PRODUCT_RECENT);\r\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\r\n      this.resetSearch_();\r\n      this.setProductsFilter_();\r\n      this.recentPaginator_ =\r\n        this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\r\n      this.recentPaginator_.setPage();\r\n      this.recentPaginator_.getRecords();\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.resetSearch_ = function() {\r\n    this.productRecent_ = document.getElementById(\r\n      this.Constant_.PRODUCT_RECENT);\r\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\r\n      this.searchFields_ = this.productForm_.getElementsByClassName(\r\n        this.CssClasses_.ELEMENT);\r\n      this.newFilters_ = [];\r\n      [].forEach.call(this.searchFields_, function(element) {\r\n        this.filterField_ = element.FieloFormElement;\r\n        this.productPaginator_ =\r\n          this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\r\n        delete this.productPaginator_.getFilters()[\r\n            this.filterField_.get('fieldName')];\r\n      },\r\n      this\r\n      );\r\n      this.productPaginator_.setFilters(this.newFilters_);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Execute Search\r\n   */\r\n  FieloFormInvoice.prototype.searchRecords_ = function() {\r\n    this.productRecent_ = document.getElementById(\r\n      this.Constant_.PRODUCT_RECENT);\r\n    if (this.productRecent_ !== null && this.productRecent_ !== undefined) {\r\n      this.searchFields_ = this.productForm_.getElementsByClassName(\r\n        this.CssClasses_.ELEMENT);\r\n      this.newFilters_ = [];\r\n\r\n      [].forEach.call(this.searchFields_, function(element) {\r\n        this.filterField_ = element.FieloFormElement;\r\n        this.productPaginator_ =\r\n          this.productRecent_.FieloRecentRecords.getPaginator().FieloPaginator;\r\n        if (this.filterField_.get('value') !== '' &&\r\n          this.filterField_.get('value') !== null &&\r\n          this.filterField_.get('value') !== undefined) {\r\n          if (this.filterField_.get('type') === 'input-double') {\r\n            this.newFilters_[\r\n              this.filterField_.get('fieldName')] =\r\n              parseFloat(this.filterField_.get('value'));\r\n          } else {\r\n            this.newFilters_[\r\n              this.filterField_.get('fieldName')] =\r\n              this.filterField_.get('value');\r\n          }\r\n        } else {\r\n          delete this.productPaginator_.getFilters()[\r\n            this.filterField_.get('fieldName')];\r\n        }\r\n      },\r\n      this\r\n      );\r\n      this.productPaginator_.setFilters(this.newFilters_);\r\n      this.productPaginator_.setPage();\r\n      this.productPaginator_.getRecords();\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.resetKeepItems = function() {\r\n    this.keepItems_ = false;\r\n  };\r\n\r\n  FieloFormInvoice.prototype.showItems_ = function() {\r\n    if (this.memberField_.FieloFormElement.get('value') === null ||\r\n      this.memberField_.FieloFormElement.get('value') === undefined) {\r\n      $(this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)\r\n        ).addClass('slds-hide');\r\n    } else {\r\n      $(this.element_.getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)\r\n        ).removeClass('slds-hide');\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.initItem_ = function(element) {\r\n    this.elementFields = element.getElementsByClassName(\r\n          this.CssClasses_.ELEMENT);\r\n\r\n    [].forEach.call(this.elementFields, function(field) {\r\n      field.addEventListener('change', this.refreshTotalPriceProxy_.bind(this));\r\n      componentHandler.upgradeElement(field);\r\n    },\r\n      this\r\n    );\r\n    $('[data-field-name=\"' + this.productField + '\"]')\r\n      .find('#invoiceForm--input')\r\n      .keypress(this.protectProductField_.bind(this));\r\n  };\r\n\r\n  FieloFormInvoice.prototype.protectProductField_ = function(event) {\r\n    if ($('[data-field-name=\"FieloPRP__Member__c\"]')[0]\r\n        .FieloFormElement.get('value') === '') {\r\n      $('[data-field-name=\"' + this.productField + '\"]')\r\n      .find('#invoiceForm--input').blur();\r\n    }\r\n    this.verifyMember_(event);\r\n  };\r\n\r\n  FieloFormInvoice.prototype.initNewItem = function() {\r\n    this.invoiceItems =\r\n      this.element_.getElementsByClassName(\r\n        this.CssClasses_.INVOICE_ITEM);\r\n    this.lastInvoiceItem =\r\n      this.invoiceItems[this.invoiceItems.length - 1];\r\n    this.initItem_(this.lastInvoiceItem);\r\n  };\r\n\r\n  FieloFormInvoice.prototype.updateProductBasket = function() {\r\n    this.recentProductRecords_ =\r\n      this.productForm_.getElementsByClassName(this.CssClasses_.RECENT_RECORDS);\r\n    this.productsInfo_ = [];\r\n\r\n    [].forEach.call(this.recentProductRecords_, function(element) {\r\n      this.recordCheckbox =\r\n        element.querySelector(\r\n          '.' + this.CssClasses_.RECENT_CHECKBOX)\r\n            .querySelector('input');\r\n      if (this.recordCheckbox.checked === true) {\r\n        this.productsInfo_.push(element.getAttribute(\r\n            this.Constant_.DATA_RECORD_ID));\r\n      }\r\n    },\r\n      this\r\n    );\r\n\r\n    this.invoiceItems_ = this.element_.getElementsByClassName(\r\n      this.CssClasses_.ITEMS_CONTAINER)[0];\r\n\r\n    this.getEmptyInvoiceItems();\r\n\r\n    [].forEach.call(this.productsInfo_, function(productId) {\r\n      if (productId !== null &&\r\n        productId !== undefined) {\r\n        if (this.availableSlots.length > 0) {\r\n          this.lastInvoiceItem = this.availableSlots.pop();\r\n        } else {\r\n          this.invoiceContainerItems_ = this.element_.getElementsByClassName(\r\n          this.CssClasses_.ITEMS_CONTAINER)[0];\r\n          // todo: discover a new way to create redemption items, or turn the\r\n          // the method into a public method\r\n          this.invoiceContainerItems_.FieloInvoiceItems.newinvoiceItem_();\r\n          this.invoiceItems_ =\r\n            this.element_.getElementsByClassName(\r\n              this.CssClasses_.INVOICE_ITEM);\r\n          this.lastInvoiceItem =\r\n            this.invoiceItems_[this.invoiceItems_.length - 1];\r\n        }\r\n        this.initItem_(this.lastInvoiceItem);\r\n        this.elementFields = this.lastInvoiceItem.getElementsByClassName(\r\n          this.CssClasses_.ELEMENT);\r\n\r\n        $(this.lastInvoiceItem).find(\r\n            $('[data-field-name=\"' + this.productField + '\"]')\r\n            )[0].FieloFormElement.set('value', productId);\r\n        $(this.lastInvoiceItem).find(\r\n            $('[data-field-name=\"FieloPRP__Quantity__c\"]')\r\n            )[0].FieloFormElement.set('value', 1);\r\n        this.activeItem = this.lastInvoiceItem;\r\n        this.activeItem.setAttribute('data-value', productId);\r\n      }\r\n    },\r\n      this\r\n    );\r\n    this.productRecent_.FieloRecentRecords.uncheckAll();\r\n  };\r\n\r\n  /**\r\n   * Set the available redemptions slots array\r\n   *\r\n   */\r\n  FieloFormInvoice.prototype.getEmptyInvoiceItems = function() {\r\n    var product;\r\n    this.availableSlots = [];\r\n    [].forEach.call(\r\n      this.element_.getElementsByClassName(this.CssClasses_.INVOICE_ITEM),\r\n      function(element) {\r\n        product =\r\n          $(element).find(\r\n            $('[data-field-name=\"' + this.productField + '\"]')\r\n            )[0].FieloFormElement.get('value');\r\n        if (product === null || product === undefined) {\r\n          this.availableSlots.push(element);\r\n        }\r\n      },\r\n        this\r\n    );\r\n  };\r\n\r\n  FieloFormInvoice.prototype.refreshTotal = function() {\r\n    if (this.hasAmountFields) {\r\n      this.invoiceItems_ = this.element_.getElementsByClassName(\r\n        this.CssClasses_.INVOICE_ITEM);\r\n      var invoiceTotalValue = Number(0);\r\n      var itemTotal;\r\n      [].forEach.call(this.invoiceItems_, function(item) {\r\n        itemTotal = $(item).find(\r\n          $('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\r\n            )[0].FieloFormElement.get('value');\r\n        itemTotal = isNaN(parseFloat(itemTotal)) ?\r\n          parseFloat(0) :\r\n          parseFloat(itemTotal);\r\n        invoiceTotalValue += Number(parseFloat(itemTotal));\r\n      },\r\n        this\r\n      );\r\n      this.invoiceTotal_ =\r\n        this.element_.querySelector('.' + this.CssClasses_.TOTAL_POINTS);\r\n      this.invoiceTotal_.innerHTML = parseFloat(invoiceTotalValue).toFixed(2);\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.refreshTotalPriceProxy_ = function(value) {\r\n    this.verifyMember_(value);\r\n    if (this.hasAmountFields) {\r\n      var row =\r\n        $(value.srcElement).closest('.' + this.CssClasses_.INVOICE_ITEM)[0];\r\n\r\n      var updatedField =\r\n        $(value.srcElement).closest('.' +\r\n          this.CssClasses_.ELEMENT)[0].FieloFormElement.get('fieldName');\r\n\r\n      var unitPriceFieldElement =\r\n        $(row).find($('[data-field-name=\"FieloPRP__UnitPrice__c\"]')\r\n              )[0];\r\n      var quantityFieldElement =\r\n        $(row).find($('[data-field-name=\"FieloPRP__Quantity__c\"]')\r\n              )[0];\r\n      var totalPriceFieldElement =\r\n        $(row).find($('[data-field-name=\"FieloPRP__TotalPrice__c\"]')\r\n              )[0];\r\n\r\n      var unitPriceField = unitPriceFieldElement ?\r\n        unitPriceFieldElement.FieloFormElement :\r\n        null;\r\n      var quantityField = quantityFieldElement ?\r\n        quantityFieldElement.FieloFormElement :\r\n        null;\r\n      var totalPriceField = totalPriceFieldElement ?\r\n        totalPriceFieldElement.FieloFormElement :\r\n        null;\r\n\r\n      if (unitPriceField) {\r\n        if (unitPriceField.get('value') === null ||\r\n          unitPriceField.get('value') === undefined ||\r\n          unitPriceField.get('value') === '') {\r\n          unitPriceField.set('value', 0);\r\n        }\r\n      }\r\n      if (quantityField) {\r\n        if (quantityField.get('value') === null ||\r\n          quantityField.get('value') === undefined ||\r\n          quantityField.get('value') === '') {\r\n          quantityField.set('value', 0);\r\n        }\r\n      }\r\n      if (totalPriceField) {\r\n        if (totalPriceField.get('value') === null ||\r\n          totalPriceField.get('value') === undefined ||\r\n          totalPriceField.get('value') === '') {\r\n          totalPriceField.set('value', 0);\r\n        }\r\n      }\r\n      /* var zeroUnitPrice =\r\n        unitPriceField.get('value') === '0';\r\n      var zeroQuantity =\r\n        quantityField.get('value') === '0';\r\n      var zeroTotalPrice =\r\n        totalPriceField.get('value') === '0';\r\n      */\r\n      if (totalPriceField && quantityField && unitPriceField) {\r\n        if (updatedField === 'FieloPRP__Quantity__c') {\r\n          totalPriceField.set('value',\r\n            (parseFloat(quantityField.get('value')) *\r\n              parseFloat(unitPriceField.get('value'))).toFixed(2)\r\n            );\r\n        }\r\n        if (updatedField === 'FieloPRP__UnitPrice__c') {\r\n          totalPriceField.set('value',\r\n            (parseFloat(quantityField.get('value')) *\r\n              parseFloat(unitPriceField.get('value'))).toFixed(2)\r\n            );\r\n        }\r\n        if (updatedField === 'FieloPRP__TotalPrice__c') {\r\n          unitPriceField.set('value',\r\n            (parseFloat(quantityField.get('value')) > 0.0 ?\r\n            parseFloat(totalPriceField.get('value')) /\r\n              parseFloat(quantityField.get('value')) :\r\n              0).toFixed(2)\r\n            );\r\n        }\r\n      }\r\n      this.refreshTotal();\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.verifyMember_ = function(event) {\r\n    if (!this.disableMemberValidation) {\r\n      var memberId = document.querySelector(\r\n        '[data-field-name=\"FieloPRP__Member__c\"]'\r\n        ).FieloFormElement.get('value');\r\n      if (memberId === null || memberId === undefined) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        this.keepItems_ = false;\r\n        this.clear_();\r\n        this.throwMessage(BackEndJSSettings.LABELS.MemberMustBeChosen, 'error');\r\n        $('[data-field-name=\"FieloPRP__Member__c\"]')\r\n          .find('#invoiceForm--input')[0].focus();\r\n      } else {\r\n        this.memberNotNull = true;\r\n        if ($(event.srcElement).hasClass(this.CssClasses_.ADD_PRODUCTS) ||\r\n          $(event.srcElement).hasClass(this.CssClasses_.NEW) ||\r\n          $(event.srcElement).hasClass(this.CssClasses_.ELEMENT) ||\r\n          $(event.srcElement).hasClass(this.CssClasses_.INPUT)) {\r\n          this.validateHasDetails = true;\r\n        } else {\r\n          this.validateHasDetails = false;\r\n        }\r\n        this.currentEvent_ = event;\r\n        this.getHasDetails(memberId);\r\n      }\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.getHasDetails = function(memberId) {\r\n    Visualforce.remoting.Manager.invokeAction(\r\n      'FieloPRP.FormInvoiceController.getHasDetailsFromMember',\r\n      memberId,\r\n      this.callbackHandler.bind(this),\r\n      {escape: true}\r\n    );\r\n  };\r\n\r\n  window.FieloFormInvoice_refreshPoints = // eslint-disable-line camelcase\r\n      FieloFormInvoice.prototype.refreshTotalPriceProxy_;\r\n\r\n  FieloFormInvoice.prototype.setParameters_ = function() {\r\n    for (var field in this.parameters_) {\r\n      if (this.parameters_.hasOwnProperty(field) &&\r\n          this.elements_.hasOwnProperty(field)) {\r\n        this.elements_[field].FieloFormElement.set(\r\n          'value',\r\n          this.parameters_[field]\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Callback interno para retrieveRecords_\r\n   * @param {sObject} result - record\r\n   * @param {event} event - status ajax\r\n   *\r\n   */\r\n  FieloFormInvoice.prototype.retrieveHandler_ = function(result) {\r\n    fielo.util.spinner.FieloSpinner.show();\r\n    this.result = result;\r\n    try {\r\n      // analizo si hay listas\r\n      // preparo un hash para representar los campos que tienen listas\r\n      var hash = '|';\r\n      for (var field in result) {\r\n        if (result.hasOwnProperty(field) && field.indexOf('__r') > -1) {\r\n          hash += field.slice(0, -1) + 'c|';\r\n        }\r\n      }\r\n\r\n      this.fields_.forEach(function(field) {\r\n        // si es una lista\r\n        if (hash.indexOf(field) > -1) {\r\n          var values;\r\n          switch (typeof result[field.slice(0, -1) + 'r']) {\r\n            case 'object':\r\n              // es un objeto que en su propiedad field contiene un string con id separados por ;\r\n              // siguiendo el formato de salesforce\r\n              // hay que parsear la informacion para pasarlo a la interfaz normal\r\n              values = result[field.slice(0, -1) + 'r'];\r\n              // busco la clave que contiene el campo __c\r\n              var __c;\r\n              for (var key in values) {\r\n                if (values.hasOwnProperty(key) && key.indexOf('__c') > -1) {\r\n                  __c = key;\r\n                  break;\r\n                }\r\n              }\r\n              if (__c) {\r\n                values = values[__c].split(';');\r\n              } else {\r\n                values = result[field];\r\n              }\r\n              break;\r\n            case 'array':\r\n            default:\r\n              // una interfaz normal\r\n              values = result[field.slice(0, -1) + 'r'];\r\n              break;\r\n          }\r\n          this.elements_[field].FieloFormElement.set('value', values);\r\n        } else if (this.elements_[field]) {\r\n          if (\r\n            this.elements_[field].FieloFormElement.get('type') === 'input-date'\r\n          ) {\r\n            result[field] = fielo.util.parseDateFromSF(result[field]);\r\n          }\r\n          this.elements_[field].FieloFormElement.set('value', result[field]);\r\n        }\r\n      }, this);\r\n\r\n      if (this.result.FieloPRP__InvoiceItems__r) {\r\n        this.getEmptyInvoiceItems();\r\n\r\n        this.result.FieloPRP__InvoiceItems__r.forEach(function(item) {\r\n          if (this.availableSlots.length > 0) {\r\n            this.lastInvoiceItem = this.availableSlots.pop();\r\n          } else {\r\n            this.invoiceContainerItems_ = this.element_.getElementsByClassName(\r\n            this.CssClasses_.ITEMS_CONTAINER)[0];\r\n            // todo: discover a new way to create items, or turn the\r\n            // the method into a public method\r\n            this.invoiceContainerItems_.FieloInvoiceItems.newinvoiceItem_();\r\n            this.invoiceItems_ =\r\n            this.element_.getElementsByClassName(\r\n              this.CssClasses_.INVOICE_ITEM);\r\n            this.lastInvoiceItem =\r\n            this.invoiceItems_[this.invoiceItems_.length - 1];\r\n          }\r\n          this.initItem_(this.lastInvoiceItem);\r\n          this.elementFields = this.lastInvoiceItem.getElementsByClassName(\r\n            this.CssClasses_.ELEMENT);\r\n\r\n          [].forEach.call(Object.keys(item), function(field) {\r\n            if (field === 'Id') {\r\n              if (item[field]) {\r\n                this.lastInvoiceItem.setAttribute('data-record-id',\r\n                  item[field]);\r\n              }\r\n            } else if (item[field]) {\r\n              var itemElement = $(this.lastInvoiceItem).find(\r\n                $('[data-field-name=\"' + field + '\"]')\r\n                  )[0];\r\n              if (itemElement) {\r\n                itemElement.FieloFormElement.set('value', item[field]);\r\n              }\r\n            }\r\n          },\r\n            this\r\n          );\r\n        },\r\n          this\r\n        );\r\n      }\r\n      if (this.result.Attachments) {\r\n        [].forEach.call(this.result.Attachments, function(attachment) {\r\n          this.multiFileUploader_.FieloMultiFileUploaderPRP\r\n            .addEmptyFilePill(attachment);\r\n        },\r\n          this\r\n        );\r\n      }\r\n      if (this.result.ContentDocumentLinks) {\r\n        [].forEach.call(this.result.ContentDocumentLinks, function(file) {\r\n          if (file.ContentDocument) {\r\n            this.multiFileUploader_.FieloMultiFileUploaderPRP\r\n              .addEmptyFilePill(file.ContentDocument);\r\n          }\r\n        },\r\n          this\r\n        );\r\n      }\r\n\r\n      // 3 - Pisar con los parameters de source en edit y new\r\n      this.setParameters_();\r\n      this.endRetrieve();\r\n      this.disableMemberEdit_();\r\n    } catch (e) {\r\n      var notify = fielo.util.notify.create();\r\n      notify.FieloNotify.addMessages([this.Constant_.HAS_ERROR, e]);\r\n      notify.FieloNotify.setTheme('error');\r\n      notify.FieloNotify.show();\r\n    }\r\n    fielo.util.spinner.FieloSpinner.hide();\r\n  };\r\n\r\n  FieloFormInvoice.prototype.retrieve_ = function(source) {\r\n    // traigo los parameters del boton\r\n    this.parameters_ = source.FieloButton.getParameters();\r\n\r\n    // Setea parametros default en edit y new\r\n    this.setParameters_();\r\n\r\n    // 2 - Hacer retrieve si estoy en edit\r\n    if (\r\n      this.parameters_.hasOwnProperty('Id') ||\r\n      this.parameters_.hasOwnProperty('cloneId')\r\n    ) {\r\n      this.isEditing = true;\r\n      this.recordId_ = this.parameters_.Id;\r\n\r\n      var retrieveRecordId = this.parameters_.Id || this.parameters_.cloneId;\r\n\r\n      // Si es un record busca los datos y los setea\r\n      var fields = Object.keys(this.getValues_()).join();\r\n\r\n      var itemFields = Object.keys(\r\n        this.itemsContainer_.FieloInvoiceItems.get()[0]).join();\r\n\r\n      var objectName = this.element_.getAttribute(this.Constant_.OBJECT_NAME);\r\n      Visualforce.remoting.Manager.invokeAction(\r\n        this.retrieveController_,\r\n        objectName,\r\n        retrieveRecordId,\r\n        fields,\r\n        itemFields,\r\n        this.retrieveHandler_.bind(this),\r\n        {escape: true}\r\n      );\r\n    } else {\r\n      this.isEditing = false;\r\n      this.setParameters_();\r\n      this.endRetrieve();\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.checkHasDetails = function() {\r\n    var hasDetails = this.element_\r\n      .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\r\n        .FieloFormElement.get('value');\r\n    if (!hasDetails) {\r\n      this.currentEvent_.stopPropagation();\r\n      this.currentEvent_.preventDefault();\r\n      this.keepItems_ = false;\r\n      this.clear_();\r\n      this.closeProducsModalIfOpened_();\r\n      var actionResult = {\r\n        message: BackEndJSSettings.LABELS.InvoiceDetailInsertDisabled};\r\n      this.form_.processRemoteActionResult_(null, actionResult);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Callback interno para getHasDetails,\r\n   * Pay attention to other class variables that\r\n   * are used in this method:\r\n   * - this.validateHasDetails (will execute some validations)\r\n   * - this.saveRecord_ (tries to save the record)\r\n   * @param {boolean} result - HasDetails or not\r\n   *\r\n   */\r\n  FieloFormInvoice.prototype.callbackHandler = function(result) {\r\n    if (result) {\r\n      this.element_\r\n      .querySelector('[data-field-name=\"FieloPRP__HasDetails__c\"]')\r\n        .FieloFormElement.set('value', result);\r\n    }\r\n    if (this.validateHasDetails) {\r\n      this.checkHasDetails();\r\n      this.validateHasDetails = false;\r\n    }\r\n    if (this.saveRecord_) {\r\n      this.saveRecord_ = false;\r\n      this.save_();\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.hasDetailsCheck = function() {\r\n    var hasDetailsFormElement =\r\n      this.element_.querySelector(\r\n        '[data-field-name=\"FieloPRP__HasDetails__c\"]');\r\n    var invoiceContainerItems =\r\n      this.element_.querySelector(\r\n        '.' + this.CssClasses_.ITEMS_CONTAINER);\r\n\r\n    $(hasDetailsFormElement).addClass('slds-hidden');\r\n    $(hasDetailsFormElement).addClass('slds-is-collapsed');\r\n\r\n    if (this.result !== null && this.result !== undefined) {\r\n      var hasDetails = this.result.FieloPRP__HasDetails__c;\r\n      var memberValue = this.result.FieloPRP__Member__c;\r\n      if (memberValue !== null && !hasDetails) {\r\n        $(invoiceContainerItems).addClass('slds-hidden');\r\n        $(invoiceContainerItems).addClass('slds-is-collapsed');\r\n      }\r\n      if (memberValue !== null && hasDetails) {\r\n        this.hideAmount_();\r\n      }\r\n    }\r\n\r\n    componentHandler.upgradeElement(hasDetailsFormElement);\r\n  };\r\n\r\n  FieloFormInvoice.prototype.endRetrieve = function() {\r\n    this.hasDetailsCheck();\r\n    this.refreshTotal();\r\n  };\r\n\r\n  FieloFormInvoice.prototype.closeProducsModalIfOpened_ = function() {\r\n    if ($('.' + this.CssClasses_.PRODUCT_FORM).hasClass('slds-show')) {\r\n      $('.fielosf-invoice-form-addproducts').modal('hide');\r\n    }\r\n    if ($('.fielosf-invoice-form').hasClass('slds-hide')) {\r\n      $('.fielosf-invoice-form').modal('show');\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.hideAmount_ = function() {\r\n    var amountFormElem =\r\n      this.element_.querySelector(\r\n        '[data-field-name=\"FieloPRP__Amount__c\"]');\r\n\r\n    $(amountFormElem).addClass('slds-hidden');\r\n    $(amountFormElem).addClass('slds-is-collapsed');\r\n  };\r\n\r\n  FieloFormInvoice.prototype.disableMemberEdit_ = function() {\r\n    $('[data-field-name=\"FieloPRP__Member__c\"]')\r\n      .addClass('disabled');\r\n  };\r\n\r\n  FieloFormInvoice.prototype.getActiveProgram = function() {\r\n    Visualforce.remoting.Manager.invokeAction(\r\n      this.Constant_.GET_PROGRAM_CONTROLLER,\r\n      this.getActiveProgramCallback.bind(this),\r\n      {escape: true}\r\n    );\r\n  };\r\n\r\n  FieloFormInvoice.prototype.getActiveProgramCallback = function(program) {\r\n    if (!this.isEditing) {\r\n      if (program.FieloPRP__RequestInvoiceProducts__c) {\r\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\r\n          .removeClass('slds-hidden');\r\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\r\n          .removeClass('slds-is-collapsed');\r\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\r\n          .addClass('slds-hidden');\r\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\r\n          .addClass('slds-is-collapsed');\r\n      } else {\r\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\r\n          .addClass('slds-hidden');\r\n        $('.' + this.CssClasses_.ITEMS_CONTAINER)\r\n          .addClass('slds-is-collapsed');\r\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\r\n          .removeClass('slds-hidden');\r\n        $('[data-field-name=\"FieloPRP__Amount__c\"]')\r\n          .removeClass('slds-is-collapsed');\r\n      }\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.getHasFields = function() {\r\n    this.hasAmountFields = false;\r\n    if (this.itemsContainer_\r\n        .querySelector('[data-field-name=\"FieloPRP__Quantity__c\"]') &&\r\n      this.itemsContainer_\r\n        .querySelector('[data-field-name=\"FieloPRP__UnitPrice__c\"]') &&\r\n      this.itemsContainer_\r\n        .querySelector('[data-field-name=\"FieloPRP__TotalPrice__c\"]')) {\r\n      this.hasAmountFields = true;\r\n    }\r\n    if (this.hasAmountFields === false) {\r\n      [].forEach.call(this.itemsContainer_\r\n        .querySelector('tfoot')\r\n          .querySelectorAll('td'), function(td) {\r\n        td.innerHTML = '';\r\n      }, this);\r\n    }\r\n  };\r\n\r\n  FieloFormInvoice.prototype.throwMessage = function(message, type) {\r\n    var notify = fielo.util.notify.create();\r\n    notify.FieloNotify.addMessages([message]);\r\n    notify.FieloNotify.setTheme(type);\r\n    notify.FieloNotify.show();\r\n  };\r\n\r\n  FieloFormInvoice.prototype.retrieveProxy_ = function(modal, source) {\r\n    modal.FieloFormInvoice.clear_();\r\n    modal.FieloFormInvoice.retrieve_(source);\r\n  };\r\n  window.FieloFormInvoice_retrieve = FieloFormInvoice.prototype.retrieveProxy_; // eslint-disable-line camelcase\r\n\r\n  /**\r\n   * Inicializa el elemento\r\n   */\r\n  FieloFormInvoice.prototype.init = function() {\r\n    if (this.element_) {\r\n      this.openForm_ = location.hash.split('#').slice(1);\r\n      this.retrieveController_ =\r\n        this.element_.getAttribute(this.Constant_.RETRIEVE_CONTROLLER);\r\n\r\n      this.productField =\r\n        this.element_.getAttribute(this.Constant_.PRODUCT_FIELD);\r\n\r\n      this.form_ = this.element_.FieloForm;\r\n\r\n      this.itemsContainer_ =\r\n        this.element_\r\n          .getElementsByClassName(this.CssClasses_.ITEMS_CONTAINER)[0];\r\n      if (this.itemsContainer_ !== null && this.itemsContainer_ !== undefined) {\r\n        componentHandler.upgradeElement(this.itemsContainer_);\r\n      }\r\n\r\n      this.getHasFields();\r\n\r\n      this.element_.FieloForm.save_ = this.submitForm.bind(this);\r\n\r\n      this.form_.clear_ = this.clear_.bind(this);\r\n\r\n      this.invoiceElements_ = $(\r\n        this.element_\r\n          .getElementsByClassName(this.CssClasses_.ELEMENT)\r\n      ).not(\r\n        this.itemsContainer_ !== null &&\r\n          this.itemsContainer_ !== undefined ?\r\n          this.itemsContainer_.getElementsByClassName(\r\n            this.CssClasses_.ELEMENT) :\r\n          null\r\n      );\r\n\r\n      this.fields_ = Object.keys(this.getValues_());\r\n\r\n      this.elements_ = [];\r\n      [].forEach.call(\r\n        this.element_.getElementsByClassName(this.CssClasses_.CONTAINER),\r\n        function(container) {\r\n          componentHandler.upgradeElement(container);\r\n          this.elements_[container.FieloFormElement.get('fieldName')] =\r\n            container;\r\n        },\r\n        this\r\n      );\r\n\r\n      this.form_.save_ = this.submitForm.bind(this);\r\n\r\n      if (this.openForm_.length > 0) {\r\n        var Id = this.openForm_[1];\r\n        this.memberField_.FieloFormElement.set('value', Id);\r\n        $(this.element_).modal('show');\r\n      }\r\n      this.invoiceAmount_ =\r\n        this.element_.querySelector('.' + this.CssClasses_.INVOICE_AMOUNT);\r\n\r\n      if (this.keepItems_ === null || this.keepItems_ === undefined) {\r\n        this.keepItems_ = false;\r\n      }\r\n\r\n      this.addProductsBtn_ = this.element_.getElementsByClassName(\r\n        this.CssClasses_.ADD_PRODUCTS)[0];\r\n      // Method to disable any action when no member is given\r\n      this.addProductsBtn_.addEventListener('click',\r\n        this.verifyMember_.bind(this));\r\n      // Method to refresh recend records from the add rewards modal\r\n      this.addProductsBtn_.addEventListener('click',\r\n        this.reloadproductRecent_.bind(this));\r\n\r\n      this.cancelBtn_ = this.element_.getElementsByClassName(\r\n        this.CssClasses_.CANCEL)[0];\r\n      // Make filled fields persistent\r\n      this.cancelBtn_.addEventListener('click',\r\n        this.resetKeepItems.bind(this));\r\n\r\n      this.newProductBtn = this.element_.getElementsByClassName(\r\n        this.CssClasses_.NEW)[0];\r\n      // Method to disable any action when no member is given\r\n      this.newProductBtn.addEventListener('click',\r\n        this.verifyMember_.bind(this));\r\n      this.newProductBtn.addEventListener('click',\r\n        this.initNewItem.bind(this));\r\n\r\n      this.productForm_ =\r\n        document.getElementsByClassName(this.CssClasses_.PRODUCT_FORM)[0];\r\n      if (this.productForm_ !== null && this.productForm_ !== undefined) {\r\n        this.productFormAddBtn_ =\r\n          this.productForm_.getElementsByClassName(\r\n            this.CssClasses_.PRODUCT_ADD)[0];\r\n        // Add selected rewards to basket\r\n        this.productFormAddBtn_.addEventListener('click',\r\n          this.updateProductBasket.bind(this));\r\n\r\n        this.productFormSearchBtn_ =\r\n          this.productForm_.getElementsByClassName(\r\n            this.CssClasses_.PRODUCT_SEARCH)[0];\r\n        // Executes the reward search based on modal filters\r\n        this.productFormSearchBtn_.addEventListener('click',\r\n          this.searchRecords_.bind(this));\r\n\r\n        this.cancelProductsAddBtn_ = document.getElementsByClassName(\r\n          this.CssClasses_.PRODUCT_CANCEL)[0];\r\n        this.productRecent_ = document.getElementById(\r\n          this.Constant_.PRODUCT_RECENT);\r\n        // Unmark selected rows in the rewards modal\r\n        this.cancelProductsAddBtn_.addEventListener('click',\r\n          this.productRecent_.FieloRecentRecords.uncheckAll.bind(\r\n            this.productRecent_.FieloRecentRecords));\r\n      }\r\n      // Add Listeners to items fields on show.\r\n      $(this.element_).on('shown.aljs.modal', function() {\r\n        var _this = document.getElementsByClassName(\r\n          'fielosf-invoice-form')[0];\r\n        _this.FieloFormInvoice.getActiveProgram();\r\n      });\r\n      $(this.element_).on('select', function() {\r\n        var _this = document.getElementsByClassName(\r\n        'fielosf-invoice-form')[0];\r\n        _this.FieloFormInvoice.getActiveProgram();\r\n      });\r\n      this.multiFileUploader_ = this.element_.getElementsByClassName(\r\n        this.CssClasses_.FILE_UPLOADER\r\n        )[0];\r\n      this.newFileBtn_ =\r\n        this.multiFileUploader_.getElementsByClassName(\r\n          this.CssClasses_.NEW_FILE_BUTTON\r\n          )[0];\r\n      this.newFileBtn_.addEventListener(\r\n        'click',\r\n        this.verifyMember_.bind(this));\r\n    }\r\n  };\r\n\r\n  fielo.helper.register({\r\n    constructor: FieloFormInvoice,\r\n    classAsString: 'FieloFormInvoice',\r\n    cssClass: 'fielosf-invoice-form',\r\n    widget: true\r\n  });\r\n})();\r\n\r\n","(function() {\n  'use strict';\n\n  var FieloFormInvoiceApproval = function FieloFormInvoiceApproval(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloFormInvoiceApproval = FieloFormInvoiceApproval;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloFormInvoiceApproval.prototype.Constant_ = {\n    SAVE_CONTROLLER: 'FieloPRP.FormApprovalController.save',\n    COMMENTS: 'FieloPRP__Comments__c',\n    REJECT_REASON: 'FieloPRP__RejectReason__c',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloFormInvoiceApproval.prototype.CssClasses_ = {\n    SAVE: 'slds-form-approval__save'\n\n  };\n\n  FieloFormInvoiceApproval.prototype.endRetrieve = function() {\n    if (this.form_.parameters_) {\n      if (this.form_.parameters_.type) {\n        if (this.form_.parameters_.type === 'reject') {\n          $(this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]'))\n            .toggle(true);\n          this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]').required_ = true;\n        } else {\n          $(this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]'))\n            .toggle(false);\n          this.element_\n            .querySelector('[data-field-name=\"' +\n              this.Constant_.REJECT_REASON + '\"]').required_ = false;\n        }\n      }\n    }\n  };\n\n  FieloFormInvoiceApproval.prototype.save = function() {\n    fielo.util.spinner.FieloSpinner.show();\n    if (this.form_.parameters_) {\n      if (this.form_.parameters_.type) {\n        this.action = this.form_.parameters_.type;\n      }\n    }\n\n    this.formValues = {};\n    this.nullFields = [];\n    this.formValues.Id =\n      this.recordId;\n    // get values based on action\n    this.formValues[this.Constant_.COMMENTS] =\n      this.element_\n        .querySelector('[data-field-name=\"' +\n          this.Constant_.COMMENTS + '\"]')\n        .FieloFormElement\n        .get('value');\n\n    if (this.action === 'reject') {\n      this.formValues[this.Constant_.REJECT_REASON] =\n        this.element_\n          .querySelector('[data-field-name=\"' +\n            this.Constant_.REJECT_REASON + '\"]')\n          .FieloFormElement\n          .get('value');\n    } else {\n      this.formValues[this.Constant_.REJECT_REASON] = null;\n    }\n\n    if (this.formValues[this.Constant_.COMMENTS] === null) {\n      this.nullFields.push(this.Constant_.COMMENTS);\n    }\n\n    if (this.formValues[this.Constant_.REJECT_REASON] === null) {\n      this.nullFields.push(this.Constant_.REJECT_REASON);\n    }\n\n    try {\n      if (this.action !== 'reject' || this.form_.checkRequiredPassOk_()) {\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.SAVE_CONTROLLER,\n          this.formValues,\n          this.action,\n          this.nullFields,\n          this.form_.processRemoteActionResult_.bind(this.form_),\n          {\n            escape: false\n          }\n        );\n      } else {\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloFormInvoiceApproval.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.form_.endRetrieve = this.endRetrieve.bind(this);\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.saveBtn_ =\n        this.element_\n          .querySelector('.' + this.CssClasses_.SAVE);\n      this.saveBtn_.addEventListener('click',\n        this.save.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloFormInvoiceApproval,\n    classAsString: 'FieloFormInvoiceApproval',\n    cssClass: 'fielosf-invoice-approval',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  var FieloFormInvoiceApprover = function FieloFormInvoiceApprover(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloFormInvoiceApprover = FieloFormInvoiceApprover;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloFormInvoiceApprover.prototype.Constant_ = {\n    SAVE_CONTROLLER: 'FieloPRP.FormSubmitForApprovalController.save',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloFormInvoiceApprover.prototype.CssClasses_ = {\n    SAVE: 'slds-form-approver__save'\n\n  };\n\n  FieloFormInvoiceApprover.prototype.save = function() {\n    fielo.util.spinner.FieloSpinner.show();\n\n    this.formValues = {};\n    this.nullFields = [];\n    this.formValues.Id =\n      this.recordId;\n    // get values based on action\n    this.formValues.ApproverId =\n      this.element_\n        .querySelector('[data-field-name=\"approver\"]')\n        .FieloFormElement\n        .get('value');\n    try {\n      if (this.form_.checkRequiredPassOk_()) {\n        Visualforce.remoting.Manager.invokeAction(\n          this.Constant_.SAVE_CONTROLLER,\n          this.formValues,\n          this.form_.processRemoteActionResult_.bind(this.form_),\n          {\n            escape: false\n          }\n        );\n      } else {\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloFormInvoiceApprover.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.saveBtn_ =\n        this.element_\n          .querySelector('.' + this.CssClasses_.SAVE);\n      this.saveBtn_.addEventListener('click',\n        this.save.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloFormInvoiceApprover,\n    classAsString: 'FieloFormInvoiceApprover',\n    cssClass: 'fielosf-invoice-approver',\n    widget: true\n  });\n})();\n\n","(function() {\n  'use strict';\n\n  var FieloSubmitForApproval = function FieloSubmitForApproval(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n  };\n  window.FieloSubmitForApproval = FieloSubmitForApproval;\n\n  /**\n   * Guarda las constantes en un lugar para que sean facilmente actualizadas\n   * @enum {string | number}\n   * @private\n   */\n  FieloSubmitForApproval.prototype.Constant_ = {\n    SUBMIT_CONTROLLER:\n      'FieloPRP.FormSubmitForApprovalController.submitForApproval',\n    RECORD_ID: 'data-record-id'\n\n  };\n\n  /**\n   * Guarda strings para nombres de clases definidas poPr este componente que\n   * son usadas por JavaScript.\n   * Esto nos permite cambiarlos solo en un lugar\n   * @enum {string}\n   * @private\n   */\n  FieloSubmitForApproval.prototype.CssClasses_ = {\n    FORM_APPROVER: 'fielosf-invoice-approver'\n\n  };\n\n  FieloSubmitForApproval.prototype.submit = function() {\n    fielo.util.spinner.FieloSpinner.show();\n    this.record = {};\n    this.record.Id =\n      this.recordId;\n    try {\n      Visualforce.remoting.Manager.invokeAction(\n        this.Constant_.SUBMIT_CONTROLLER,\n        this.record,\n        this.submitCallback.bind(this),\n        {\n          escape: false\n        }\n      );\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  FieloSubmitForApproval.prototype.submitCallback = function(result, event) {\n    this.formApprover = document\n      .querySelector('.' + this.CssClasses_.FORM_APPROVER);\n    if (result.choseApproverFirst) {\n      if (this.formApprover) {\n        $(this.formApprover).modal('show');\n        fielo.util.spinner.FieloSpinner.hide();\n      }\n    } else if (result.response) {\n      if (this.formApprover) {\n        if (this.formApprover.FieloFormInvoiceApprover) {\n          if (this.formApprover.FieloFormInvoiceApprover.form_) {\n            this\n              .formApprover\n              .FieloFormInvoiceApprover\n              .form_\n              .processRemoteActionResult_(result.response, event);\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Inicializa el elemento\n   */\n  FieloSubmitForApproval.prototype.init = function() {\n    if (this.element_) {\n      this.form_ = this.element_.FieloForm;\n      this.recordId =\n        this.element_\n          .getAttribute(this.Constant_.RECORD_ID);\n      this.element_.addEventListener('click',\n        this.submit.bind(this));\n    }\n  };\n\n  fielo.helper.register({\n    constructor: FieloSubmitForApproval,\n    classAsString: 'FieloSubmitForApproval',\n    cssClass: 'fielosf-invoice-submit-for-approval',\n    widget: true\n  });\n})();\n\n"]}